{"version":3,"sources":["../node_modules/@ionic/pwa-elements/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","Components/Navbar.js","Components/TabPanel.js","Components/UserContext.js","Components/Question.js","Components/Section.js","Components/ScrollableTabsButtonAuto.js","Components/Preview.js","store/Actions/SignInAction.js","Components/Util.js","Components/SurveyPicker.js","Components/Config.js","Components/Menu.js","store/Actions/SignOutAction.js","View.js","App.js","Components/DPreview.js","DView.js","Dashboard.js","Components/Login.js","Components/ChangePassword.js","Home.js","store/Reducers/SignInReducer.js","store/Reducers/SignOutReducer.js","store/Reducers/RootReducer.js","serviceWorker.js","aws-exports.js","index.js","logo.png"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","Navbar","props","viewerStyle","editor","current","className","Button","variant","color","endIcon","onClick","goto","total","startIcon","submit","TabPanel","children","value","index","Typography","component","role","hidden","Box","p","UserContext","React","createContext","username","lang","UserProvider","Provider","Consumer","Camera","Plugins","Geolocation","useStyles","makeStyles","theme","root","margin","spacing","width","textAlign","flexGrow","border","multiSelectValues","Question","useRef","WasmDecoder","getInstance","useContext","useState","rowcount","colcount","addRows","valid","state","setState","formatValid","setFormatValid","mandatoryFail","setMandatoryFail","getCurrentPosition","qid","a","coordinates","console","log","store","coords","latitude","longitude","getPhoto","resultType","CameraResultType","DataUrl","direction","CameraDirection","Rear","source","CameraSource","image","onChange","event","target","type","name","checked","undefined","question","format","RegExp","pattern","test","mandatory","onChangeOther","onMultiSelect","controlName","push","filter","arrayItem","useEffect","showcamera","handleScan","data","answers","uid","handleScanError","err","error","validateConditionGroup","conditionGroup","conditionArray","match","result","overall","i","length","validateCondition","slice","questionLookup","replace","indexOf","saveGrid","rowid","substring","colid","currentVal","classes","asterisk","style","chk","Switch","condition","options","TextField","fullWidth","multiline","row","hasOptions","hasConditionalOptions","conditionaloptions","langOptions","vals","option","MenuItem","key","conditionalVals","forEach","conditionaloption","concat","Select","autoWidth","display","FormControlLabel","control","Radio","label","RadioGroup","eror","Checkbox","Array","isArray","FormGroup","val","padding","takePicture","src","dataUrl","alt","height","objectFit","onError","onScan","timeBeforeScanTest","scanKeyCode","rows","count","colheader","cols","col","TableCell","text","coldata","j","marginLeft","paddingLeft","subquestion","unsubscribe","submitState","rowdata","TableRow","nowrap","from","TableContainer","Table","aria-label","TableHead","debug","TableBody","addmore","Date","toUTCString","Math","floor","random","getUniqueNumber","user","getUserId","position","overflow","clip","flexDirection","justifyContent","help","Section","questions","sectionId","subscribe","textColor","Alert","elevation","propTypes","PropTypes","node","any","isRequired","backgroundColor","top","ScrollableTabsButtonAuto","setValue","setSubmitState","tabId","setTabId","snack","setSnack","sid","closeSnack","tabs","survey","sections","section","Tab","title","instructions","langHeader","hasHeader","header","conclusion","tabs1","hometabpanel","logo","disabled","thankstabpanel","tabpanels","AppBar","Tabs","newValue","indicatorColor","scrollButtons","Snackbar","open","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","severity","Preview","mystateObj","subscribers","Map","json","bind","publish","invalidquestions","questionpub","sectionid","questionid","this","subscriber","set","goodtogo","every","quest","add","useIndexedDB","isStale","field","splice","version","Component","signIn","params","dispatch","getState","Auth","currentAuthenticatedUser","catch","password","SyncFile","getAll","confFiles","conf","Storage","get","fetch","r","FetchS3File","SyncAllConfFiles","surveydata","yaml","SyncSurvey","dbentry","updateCount","sidx","idx","answer","s3url","getTime","put","contentType","deleteRecord","API","post","body","response","SurveyPicker","surveys","handleClick","processURL","window","addEventListener","onpopstate","paper","maxWidth","paddingTop","survys","surv","Paper","Grid","container","cursor","item","Avatar","icon","category","xs","zeroMinWidth","overflowY","LocaleConfig","languages","list","selected","drawerHeader","alignItems","mixins","toolbar","connect","userlang","signOut","useTheme","surveycount","getByID","changeLang","locale","update","toggleDrawer","side","Drawer","anchor","right","IconButton","Divider","List","ListItem","button","ListItemIcon","ListItemText","primary","surveysFromDB","SyncAllSurveys","PaperComponent","cancel","View","stale","handleCancel","handleSubmit","status","processYAML","float","fontSize","paddingRight","align","setNav","message","parsedLine","Dialog","disableBackdropClick","DialogTitle","DialogContent","DialogActions","to","initDB","objectStoresMeta","storeConfig","keyPath","autoIncrement","storeSchema","App","refName","createRef","process","handleKeyDown","handleChange","showDialog","loading","selection","getValue","keyCode","flag","paddingBottom","size","mode","focus","showPrintMargin","editorProps","$blockScrolling","Infinity","ref","wrapEnabled","placeholder","borderBottom","Fade","in","unmountOnExit","transitionDelay","LinearProgress","autoFocus","required","onKeyDown","DPreview","JSON","stringify","DView","Dashboard","challenge","challengeName","getCurrentSession","newpassword","loginError","handleLogin","trim","resp","Hub","listen","payload","autoComplete","changePassword","completeNewPassword","Home","str","innerHeight","innerWidth","handleResize","YAML","parse","url","removeEventListener","exact","path","render","processS3URL","initialState","SignInReducer","action","SignOutReducer","logoutError","AppReducer","combineReducers","RootReducer","Boolean","location","hostname","awsmobile","Amplify","configure","config","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","defineCustomElements"],"mappings":"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","file":"static/js/main.30c88eb0.chunk.js","sourcesContent":["var map = {\n\t\"./pwa-camera-modal-instance.entry.js\": [\n\t\t695,\n\t\t5\n\t],\n\t\"./pwa-camera-modal.entry.js\": [\n\t\t696,\n\t\t6\n\t],\n\t\"./pwa-camera.entry.js\": [\n\t\t697,\n\t\t7\n\t],\n\t\"./pwa-toast.entry.js\": [\n\t\t698,\n\t\t8\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 681;\nmodule.exports = webpackAsyncContext;","\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\n\nimport PlayIcon from '@material-ui/icons/PlayArrow';\nimport DoneIcon from '@material-ui/icons/Done';\nimport RepeatIcon from '@material-ui/icons/Repeat';\nimport PreviousIcon from '@material-ui/icons/NavigateBefore';\nimport NextIcon from '@material-ui/icons/NavigateNext';\n\nexport default function Navbar(props){\n    const viewerStyle = props.editor ? \"navbar\" : \"navbar1\";\n\n\n    function submit(){\n        const notready = props.submit();\n        if (!notready){\n          return\n        }\n        props.goto(props.current+1);\n    }\n\n    if(props.current === 0){\n        return (\n            <div className={viewerStyle}>\n                <Button variant=\"outlined\" color=\"primary\" endIcon={<PlayIcon/>}\n                    onClick={() => props.goto(props.current+1)}>\n                    Start\n                </Button>\n            </div>\n        )\n    }\n    else if(props.current === props.total - 2){\n        return (\n            <div className={viewerStyle}>\n            <Button variant=\"outlined\" color=\"primary\" startIcon={<PreviousIcon/>}\n                onClick={() => props.goto(props.current-1)} >\n                Previous\n            </Button>\n            <Button variant=\"outlined\" color=\"primary\" startIcon={<DoneIcon/>}\n                onClick={submit}>\n                Submit\n            </Button>\n            </div>\n        )\n    }\n    else if(props.current === props.total - 1){\n        return (\n            <div className={viewerStyle}>\n            <Button variant=\"outlined\" color=\"primary\" startIcon={<RepeatIcon/>}\n                onClick={() => props.goto(0)}>\n                Repeat survey\n            </Button>\n            </div>\n        )\n    }\n\n    return (\n        <div className={viewerStyle}>\n            <Button variant=\"outlined\" color=\"primary\" startIcon={<PreviousIcon/>}\n                onClick={() => props.goto(props.current-1)} >\n                Previous\n            </Button>\n            <Button variant=\"outlined\" color=\"primary\" endIcon={<NextIcon/>}\n                onClick={() => props.goto(props.current+1)} >\n                Next\n            </Button>\n        </div>\n    )\n}\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nexport default function TabPanel(props) {\n  const { children, value, index } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </Typography>\n  );\n}\n","import React from \"react\";\n\nconst UserContext = React.createContext({\n  username: \"\",\n  lang:\"\"\n})\n\nexport const UserProvider = UserContext.Provider\n\nexport const UserConsumer = UserContext.Consumer\n\nexport default UserContext;\n","import React, { useContext , useRef } from \"react\"\nimport TextField from '@material-ui/core/TextField';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Switch from '@material-ui/core/Switch';\nimport Button from '@material-ui/core/Button';\nimport DetectIcon from '@material-ui/icons/MyLocation';\nimport CameraIcon from '@material-ui/icons/CameraAlt';\nimport { Plugins, CameraSource, CameraDirection, CameraResultType} from '@capacitor/core';\nimport QrReader from 'react-qr-reader';\nimport { WasmDecoder } from \"@impactdk/barcode-scanner\";\nimport BarcodeReader from 'react-barcode-reader'\nimport UserContext from \"./UserContext\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport pattern from './Format.json'\n\nconst { Camera } = Plugins;\nconst { Geolocation } = Plugins;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: '100%',\n      textAlign: 'center',\n      flexGrow: 1,\n      border: '1px solid'\n    },\n  },\n}));\n\nlet multiSelectValues = {};\n\nexport default function Question(props){\n\n    const { current: decoder } = useRef(WasmDecoder.getInstance(\"/wasmassets\"));\n    //const [lang, setLang] = useState('_en');\n    const user = useContext(UserContext)\n    const lang = user.lang;\n\n    const [state, setState] = React.useState({\n            rowcount : 1,\n            colcount : 1,\n            textAlign: 'center',\n            addRows : false,\n            valid: true,\n    })\n\n    const [formatValid, setFormatValid] = React.useState(true);\n    const [mandatoryFail, setMandatoryFail] = React.useState(true);\n\n     React.useEffect(() => {\n         if ( !props.question.mandatory || props.question.mandatory === undefined || !props.question.mandatory)\n         {\n           setMandatoryFail(false)\n         }\n     }, [])\n\n    async function getCurrentPosition(qid) {\n        const coordinates = await Geolocation.getCurrentPosition();\n        console.log('Current', coordinates);\n\n        props.store(qid, [coordinates.coords.latitude, coordinates.coords.longitude]);\n    }\n\n    async function takePicture(qid) {\n        const image = await Camera.getPhoto({\n          resultType: CameraResultType.DataUrl, direction: CameraDirection.Rear, source: CameraSource.Camera,\n        });\n        props.store(qid, image)\n    }\n\n    function handleBarcode(qid, barcode) {\n        props.answers[qid] = barcode;\n    }\n\n    function getTimestamp(qid) {\n        props.answers[qid] = new Date().toUTCString();\n    }\n\n    function getUniqueNumber(qid) {\n        props.answers[qid] = Math.floor(Math.random() * 100000);\n    }\n\n    function getUserId(qid) {\n        props.answers[qid] = state.user.username;\n    }\n\n    function onChange(event){\n\n        if(event.target.type === \"checkbox\"){\n            props.store(event.target.name, event.target.checked);\n        }else {\n            props.store(event.target.name, event.target.value);\n        }\n\n        if( event.target.type === \"select\" && event.target.value === 'Other'){\n            props.store(event.target.name+'_other', '');\n        }\n        else if( event.target.type === \"multiselect\" && event.target.checked === 'Other'){\n            props.store(event.target.name+'_other', '');\n        }\n\n        if( event.target.type === \"text\"  && props.question.format !== undefined && props.question.format !== null && props.question.format !== '' ){\n            setFormatValid( new RegExp(pattern[props.question.format]).test(event.target.value) )\n        }\n        if ( props.question.mandatory !== undefined && props.question.mandatory && (props.question.type === 'textbox' || props.question.type === 'textarea') && ( event.target.value === '' )){\n          setMandatoryFail(true)\n        }else{\n          setMandatoryFail(false)\n        }\n\n    }\n\n    function onChangeOther(event){\n        props.store(event.target.name+'_other', event.target.value);\n    }\n\n    function onMultiSelect(event, controlName){\n        if(typeof multiSelectValues[controlName] == \"undefined\"){\n            multiSelectValues[controlName] = [];\n        }\n\n        if(event.target.checked){\n            multiSelectValues[controlName].push(event.target.name);\n        }\n        else{\n            multiSelectValues[controlName] = multiSelectValues[controlName].filter(arrayItem => arrayItem !== event.target.name);\n        }\n        props.store(controlName, multiSelectValues[controlName]);\n    }\n\n    const [showcamera] = React.useState(false);\n\n    function handleScan(data) {\n        if (data) {\n            props.answers[props.uid] = data;\n        }\n    }\n    function handleScanError(err) {\n        console.error(err);\n    }\n    function validateConditionGroup(conditionGroup){\n        try{\n            const conditionArray = conditionGroup.match(/[^\\s']+|'([^']*)'/g);\n\n            let result = false;\n            let overall = false;\n            for(let i=0; conditionArray.length >= i+3; i=i+4){\n                result = validateCondition(conditionArray.slice(i, i+3));\n\n                if(i === 0){\n                    overall = result;\n                }\n                else{\n                    overall = conditionArray[i+4] === \"and\" ? (overall && result) : (overall || result);\n                }\n            }\n\n            return overall;\n        }\n        catch(error){\n            console.log(error);\n        }\n    }\n\n    function validateCondition(conditionArray){\n        let result = false;\n        if(conditionArray[1] === \"is\" ){\n            if(\"\"+props.answers[props.questionLookup[conditionArray[0]]] === conditionArray[2].replace(/'/g, '')){\n                result = true;\n            }\n        }\n\n        if(conditionArray[1] === \"isnot\"){\n            if(\"\"+props.answers[props.questionLookup[conditionArray[0]]] !== conditionArray[2].replace(/'/g, '')){\n                result = true;\n            }\n        }\n\n        if(conditionArray[1] === \"has\" ){\n            if(props.answers[props.questionLookup[conditionArray[0]]].indexOf(conditionArray[2].replace(/'/g, '')) !== -1){\n                result = true;\n            }\n        }\n\n        if(conditionArray[1] === \"hasnot\"){\n            if(props.answers[props.questionLookup[conditionArray[0]]].indexOf(conditionArray[2].replace(/'/g, '')) === -1){\n                result = true;\n            }\n        }\n\n        return result;\n    }\n\n    function addCount(){\n        setState({...state, rowcount : state.rowcount+1})\n    }\n\n    function saveGrid(id, value){\n        const rowid = id.substring(id.indexOf('_row')+4, id.indexOf('_col'))\n        const colid = id.substring(id.indexOf('_col')+4)\n        let currentVal = props.answers[props.uid];\n        if(currentVal === undefined || currentVal === null || currentVal === '')\n        {\n          currentVal = [];\n        }\n        if(currentVal[rowid] === undefined || currentVal[rowid] === null || currentVal[rowid] === '')\n        {\n          currentVal[rowid] = [];\n        }\n        currentVal[rowid][colid] = value;\n        props.store(props.uid, currentVal)\n    }\n\n    const classes = useStyles();\n    const asterisk = props.question.mandatory ? <div style={{color:'red'}}>*</div> : null;\n    const chk = props.question.type === 'checkbox' ?\n                <Switch\n                    name={props.uid}\n                    onChange={onChange}\n                    color=\"primary\"\n                    checked={props.answers[props.uid] !== \"\" && props.answers[props.uid]} />\n                : null;\n\n    if( props.question.condition !== undefined && props.question.condition !== null&& props.question.condition !== \"\")\n    {\n          if(!validateConditionGroup(props.question.condition)){\n                return null;\n          }\n    }\n\n    let options = null;\n    if(props.question.type === 'textbox'){\n        options = (\n            <form className={classes.root}>\n                    <TextField name={props.uid} onChange={onChange} value={props.answers[props.uid]} style={formatValid?{}:{border:'1px solid red'}} fullWidth/>\n            </form>\n        );\n    }\n    else if(props.question.type === 'textarea'){\n        options = (\n            <form className={classes.root}>\n                    <TextField name={props.uid} multiline row={5} variant=\"outlined\" onChange={onChange}\n                    value={props.answers[props.uid]} style={formatValid?{}:{border:'1px solid red'}} fullWidth/>\n            </form>\n        );\n    }\n    else if(props.question.type === 'select'){\n\n        const hasOptions = typeof props.question.options !== \"undefined\" && props.question.options !== null;\n        const hasConditionalOptions = typeof props.question.conditionaloptions !== \"undefined\" && props.question.conditionaloptions !== null;\n        const langOptions = typeof props.question[\"options\"+lang] !== \"undefined\" && props.question[\"options\"+lang] !== null;\n\n        const vals = hasOptions ? (langOptions? props.question[\"options\"+lang] : props.question.options).map((option) => {\n            return (<MenuItem value={option} key={option}>{option}</MenuItem>)\n        }) : null;\n\n        let conditionalVals = [];\n        if(hasConditionalOptions){\n            props.question.conditionaloptions.forEach((conditionaloption) => {\n                if(validateConditionGroup(conditionaloption.condition)){\n                    conditionalVals = conditionalVals.concat(conditionaloption.options.map((option) => {\n                        return (<MenuItem value={option} key={option}>{option}</MenuItem>)\n                    }));\n                }\n\n            });\n        }\n\n        options = (\n            <form className={classes.root}>\n                    <Select name={props.uid} autoWidth={false} onChange={onChange} value={props.answers[props.uid]} >\n                        {vals}\n                        {conditionalVals}\n                    </Select>\n                    <TextField name={props.uid} onChange={onChangeOther} value={props.answers[props.uid+'_other']} fullWidth style={props.answers[props.uid] !== 'Other' ? { display: 'none'}: {}}/>\n            </form>\n        );\n    }\n    else if(props.question.type === 'radio'){\n\n        try{\n          const langOptions = typeof props.question[\"options\"+lang] !== \"undefined\" && props.question[\"options\"+lang] !== null;\n\n          const vals = (langOptions? props.question[\"options\"+lang] : props.question.options).map((option) => {\n            if(typeof option === 'string'){\n                return (<FormControlLabel value={option} key={option} control={<Radio color=\"primary\" />} label={option} />)\n            }\n            else if(typeof option === 'object'){\n                return (<FormControlLabel value={option.value} key={option.key} control={<Radio color=\"primary\" />} label={option.value} />)\n            }\n            else{\n                return null;\n            }\n        });\n\n        options = (\n            <form className={classes.root}>\n                    <RadioGroup  name={props.uid} onChange={onChange} value={props.answers[props.uid]}>\n                        {vals}\n                    </RadioGroup>\n            </form>\n        );\n        }catch(eror){}\n    }\n    else if(props.question.type === 'multiselect'){\n        const hasOptions = typeof props.question.options !== \"undefined\" && props.question.options !== null;\n        const hasConditionalOptions = typeof props.question.conditionaloptions !== \"undefined\" && props.question.conditionaloptions !== null;\n        const langOptions = typeof props.question[\"options\"+lang] !== \"undefined\" && props.question[\"options\"+lang] !== null;\n\n        const vals = hasOptions ? (langOptions? props.question[\"options\"+lang] : props.question.options).map((option) => {\n            return (<div><FormControlLabel control=\n                {\n                    <Checkbox\n                    color=\"primary\"\n                    value={option}\n                    name={option}\n                    checked={ (props.answers[props.uid] && props.answers[props.uid] !== undefined && props.answers[props.uid] !== null && Array.isArray(props.answers[props.uid]) ) ? props.answers[props.uid].indexOf(option) !== -1 : false}\n                    onChange={(e) => onMultiSelect(e, props.uid)} />\n\n                } label={option} key={option} />{ (option === 'Other' && Array.isArray(props.answers[props.uid]) && props.answers[props.uid].indexOf(option) !== -1 )? <TextField name={props.uid} onChange={onChangeOther} value={props.answers[props.uid+'_other']} fullWidth/>:null}</div>)\n        }): null;\n\n        let conditionalVals = [];\n        if(hasConditionalOptions){\n            props.question.conditionaloptions.forEach((conditionaloption) => {\n                //console.log(\"Conditon \"+validateConditionGroup(conditionaloption.condition));\n                if(validateConditionGroup(conditionaloption.condition)){\n                    conditionalVals =  conditionalVals.concat(conditionaloption.options.map((option) => {\n                        //console.log(\"checking option \"+option);\n                        return (\n                            <FormControlLabel control={\n                                <Checkbox\n                                color=\"primary\"\n                                value={option}\n                                name={option}\n                                checked={props.answers[props.uid].indexOf(option) !== -1}\n                                onChange={(e) => onMultiSelect(e, props.uid)} />\n                            }\n                            label={option} key={option} />\n                        )\n                    }));\n\n                    //console.log(oppts.length);\n                    //conditionalVals.concat(oppts);\n                    //console.log(conditionalVals.length);\n\n                }\n\n            });\n        }\n\n        options = (\n            <form className={classes.root}>\n                    <FormGroup name={props.uid} color=\"primary\">\n                        {conditionalVals}\n                        {vals}\n                    </FormGroup>\n            </form>\n        );\n    }\n    else if(props.question.type === 'geolocation'){\n        const val = typeof props.answers[props.uid] === 'undefined' || props.answers[props.uid] === null ||\n                    props.answers[props.uid] === \"\" || props.answers[props.uid].length < 2 ? \"\" :\n                    \"[\"+props.answers[props.uid][0]+\", \"+props.answers[props.uid][1]+\"]\"\n        options = (\n            <form className={classes.root}>\n                     <div style={{padding: '10px'}}>{val}</div>\n                     <Button variant=\"outlined\" color=\"primary\" startIcon={<DetectIcon/>}\n                        onClick={() => getCurrentPosition(props.uid)} >\n                        Detect\n                    </Button>\n            </form>\n        );\n    }\n\n    else if(props.question.type === 'image'){\n        options = (\n            <form className={classes.root} >\n            {!showcamera ?\n                <Button variant=\"outlined\" color=\"primary\" startIcon={<CameraIcon/>} onClick={() => takePicture(props.uid)}>\n                    Open Camera\n                </Button>\n            : null }\n\n            <img id=\"camera image\" src={props.answers[props.uid].dataUrl} alt=\"\" width=\"20%\" height=\"20%\" style={{padding: '5px', width: '20%', height: '20%', objectFit:'cover'}} />\n\n            </form>\n        );\n    }\n    else if(props.question.type === 'qrcode'){\n        options = (\n            <form className={classes.root}>\n                <QrReader onError={handleScanError} onScan={handleScan} style={{ width: '100%' }} />\n                <p>{props.answers[props.uid]}</p>\n            </form>\n        );\n    }\n    else if(props.question.type === 'barcode'){\n      console.log(props.uid)\n        options = (\n            <form className={classes.root}>\n\n               <BarcodeReader onScan={handleScan} timeBeforeScanTest=\"0\" onError={handleScanError} scanKeyCode='13' />\n\n            </form>\n        );\n    }\n    else if(props.question.type === 'grid'){\n\n      if(state.rowcount === undefined && props.question.rows.count !== undefined)\n      {\n           setState({...state, rowcount : props.question.rows.count})\n      }\n\n      const colheader = props.question.cols.map((col) => {\n          return (\n              <TableCell>\n                  <div>{col.text}</div>\n              </TableCell>\n          )\n      })\n\n      const coldata = (rowid) => {\n        return props.question.cols.map((col,j) => {\n          const key = props.uid+'_row'+rowid+'_col'+j;\n\n          return (\n              <TableCell style={{marginLeft:'0px', paddingLeft: '0px'}}>\n\n              <Question\n                uid={key}\n                id={key}\n                key={key}\n                question={col}\n                subquestion={true}\n                store={saveGrid}\n                answers={props.answers}\n                unsubscribe={props.unsubscribe}\n                submitState={props.submitState}\n                questionLookup={[]}\n              />\n\n              </TableCell>\n          )\n        })\n     };\n\n      const rowdata = props.question.rows.count === undefined ? props.question.rows.map((row, i) => {\n\n          return (\n              <TableRow nowrap={true} style={{width:'100%'}}>\n                <TableCell >\n                    <div>{row.text}</div>\n                </TableCell>\n\n                {coldata(i)}\n              </TableRow>\n          )\n      }): Array.from(Array(state.rowcount).keys()).map((i) => {\n\n          return (\n              <TableRow>\n                <TableCell>\n                    <div>{i+1}</div>\n                </TableCell>\n\n                {coldata(i)}\n\n              </TableRow>\n          )\n      });\n\n      options = (\n            <form className={classes.root}>\n\n               <TableContainer>\n               <Table aria-label=\"customized table\">\n               <TableHead>\n               <TableRow>\n                      <TableCell debug> </TableCell>\n                      {colheader}\n               </TableRow>\n               </TableHead>\n               <TableBody>\n                   {rowdata}\n\n               </TableBody>\n               </Table>\n               </TableContainer>\n               { (props.question.rows.addmore !== undefined && props.question.rows.addmore) ?\n               <Button variant=\"outlined\" color=\"primary\" onClick={() => addCount()}>\n                   Add Row\n               </Button>\n               : null\n               }\n\n            </form>\n        );\n\n    }\n    else if(props.question.type === 'hidden'){\n\n        if (props.question.value === 'geolocation')\n        {\n            getCurrentPosition(props.uid)\n        }\n        else if (props.question.value === 'timestamp')\n        {\n            getTimestamp(props.uid)\n        }\n        else if (props.question.value === 'uniquenumber')\n        {\n            getUniqueNumber(props.uid)\n        }\n        else if (props.question.value === 'userid')\n        {\n            getUserId(props.uid)\n        }\n        options = (\n            <form>\n               <input type=\"hidden\" value={props.answers[props.uid]}/>\n            </form>\n        );\n    }\n\n    return (\n\n        <div className=\"question\" style={ (props.question.type === 'hidden' || !state.valid)? {display:'none'}: {}} style={ (mandatoryFail && props.submitState) ? {border: '1px solid red'}: {}}>\n            <div className=\"question text\" style={props.subquestion !== undefined ? { position: 'absolute', overflow: 'hidden', clip: 'rect(0 0 0 0)',height: '1px', width: '1px', margin: '-1px', padding: '0', border: '0'}: {display:'flex', flexDirection:'row', justifyContent:'flex-start'}}>\n                {props.question[`text${lang}`]?props.question[`text${lang}`]:props.question.text}{asterisk}  {chk}\n            </div>\n            <div className=\"question help\" style={props.subquestion !== undefined ? { position: 'absolute', overflow: 'hidden', clip: 'rect(0 0 0 0)',height: '1px', width: '1px', margin: '-1px', padding: '0', border: '0'}: {}}>\n                {props.question[`help${lang}`]?props.question[`help${lang}`]:props.question.help}\n            </div>\n            <div className=\"question options\">\n                {options}\n            </div>\n        </div>\n    )\n}\n","import React from 'react';\nimport TabPanel from './TabPanel'\nimport Question from './Question'\n\nexport default function Section(props) {\n    const questions = typeof props.questions !== 'undefined' &&  props.questions !== null ?\n    props.questions.map((question, i) => {\n      if(question === null){\n        return null;\n      }\n      return (\n          <Question\n            uid={\"s\"+props.sectionId+\"_q\"+i}\n            id={typeof question.id !== 'undefined' && question.id !== null && question.id !== \"\" ? question.id : \"s\"+props.sectionId+\"_q\"+i}\n            key={\"Question \"+i}\n            question={question}\n            store={props.store}\n            answers={props.answers}\n            questionLookup={props.questionLookup}\n            unsubscribe={props.unsubscribe}\n            subscribe={props.subscribe}\n            submitState={props.submitState}\n          />\n      )\n  }) : [];\n    return (\n        <TabPanel value={props.value} index={props.index} style={{textColor:'red'}}>\n            <div className=\"surveyform\" >\n                {questions}\n            </div>\n        </TabPanel>\n    )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport TextField from '@material-ui/core/TextField';\n\nimport Navbar from './Navbar';\nimport TabPanel from './TabPanel';\nimport Section from './Section';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    width: '100%',\n    backgroundColor: 'theme.palette.background.paper',\n    top: 0\n  },\n}));\n\nexport default function ScrollableTabsButtonAuto(props) {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n  const [submitState, setSubmitState] = React.useState(false);\n  const [lang] = React.useState('_en');\n  const [tabId, setTabId] = React.useState('');\n  const [snack, setSnack] = React.useState(false)\n\n  React.useEffect(() => {\n      props.subscribe(\"temp\", subscribe)\n  }, [])\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const goto = (newValue) => {\n    setValue(newValue);\n  };\n\n  const subscribe = (sid, qid) => {\n    setSubmitState(true)\n    setTabId(sid)\n    setSnack(true)\n  }\n\n  function closeSnack(){\n    setSnack(false)\n  }\n\n   const tabs = typeof props.survey.sections !== 'undefined' &&  props.survey.sections !== null ?\n      props.survey.sections.map((section, i) => {\n        if(section === null){\n          return null;\n        }\n        return (\n            <Tab\n              label={typeof section.title !== 'undefined' ? section.title: \"\"}\n              {...a11yProps(i)}\n              key={'Section '+i}\n              style={ (i === tabId)? {color:'red'}:{}}\n            />\n        )\n    }) : [];\n\n    const langTitle = typeof props.survey[\"title\"+lang] !== \"undefined\" && props.survey[\"title\"+lang] !== null;\n    const title = langTitle ? props.survey[\"title\"+lang] : props.survey.title;\n    const langInstruction = typeof props.survey[\"instructions\"+lang] !== \"undefined\" && props.survey[\"instructions\"+lang] !== null;\n    const instructions = langInstruction ? props.survey[\"instructions\"+lang] : props.survey.instructions;\n    const langHeader = typeof props.survey[\"header\"+lang] !== \"undefined\" && props.survey[\"header\"+lang] !== null;\n    const hasHeader = typeof props.survey.header !== \"undefined\" && props.survey.header !== null;\n    const header = langHeader ? props.survey[\"header\"+lang] : (hasHeader? props.survey.header: \"Home\");\n    const langConclusion = typeof props.survey[\"conclusion\"+lang] !== \"undefined\" && props.survey[\"conclusion\"+lang] !== null;\n    const conclusion = langConclusion ? props.survey[\"conclusion\"+lang] : props.survey.conclusion;\n\n    const tabs1 = [ <Tab label={header}  key={header} /> , ...tabs,  <Tab label=\"Thanks\"  key=\"Thanks\" /> ]\n\n    const hometabpanel = <TabPanel value={value} index={0}><div className=\"surveyform\">\n                         { typeof props.survey.logo !== 'undefined' && props.survey.logo !== null ?\n                            <img src={props.survey.logo} alt=\"survey logo\" />\n                          : null}\n                          { typeof title !== 'undefined'  && title !== null  ?\n                            <h2>{title}</h2>\n                          : null}\n\n                          </div>\n                          { typeof instructions !== 'undefined' && instructions !== null?\n                            <div>\n                                <TextField id=\"instructions\" fullWidth={true} margin=\"normal\" disabled\n                                  multiline value={instructions} variant=\"filled\" /></div>\n                          : null}\n                          </TabPanel>\n\nconst thankstabpanel = (<TabPanel value={value} index={tabs1.length - 1}>\n                        <div className=\"surveyform\">\n                          { typeof conclusion !== 'undefined'  && conclusion !== null  ?\n                            <h2>{conclusion}</h2>\n                          : null}\n                        </div></TabPanel>)\n\nconst tabpanels = typeof props.survey.sections !== 'undefined' &&  props.survey.sections !== null ?\n                    props.survey.sections.map((section, i) => {\n                      if(section === null){\n                        return null;\n                      }\n\n                      return (\n                          <Section\n                            questions={section.questions}\n                            key={'Section '+i}\n                            value={value}\n                            index={i+1}\n                            store={props.store}\n                            answers={props.answers}\n                            questionLookup={props.questionLookup}\n                            unsubscribe={props.unsubscribe}\n                            subscribe={props.subscribe}\n                            submitState={submitState}\n                            sectionId={i}\n                          />\n                      )\n                    }) : [];\n\n    const viewerStyle = props.editor ? \"viewer\" : \"viewer1\";\n\n console.log(props.submitState)\n\n  return (\n    <div >\n      <div className={viewerStyle} >\n        <div className={classes.root}>\n          <AppBar position=\"sticky\" color=\"default\" >\n            <Tabs\n              value={value}\n              onChange={handleChange}\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              variant=\"scrollable\"\n              scrollButtons=\"auto\"\n            >\n            {tabs1}\n          </Tabs>\n          </AppBar>\n          {hometabpanel}\n          {tabpanels}\n          {thankstabpanel}\n        </div>\n      </div>\n      <Navbar current={value} total={tabs1.length} goto={goto} editor={props.editor} submit={props.submit} submitState={submitState}/>\n      <Snackbar open={snack} anchorOrigin={{ vertical:'bottom', horizontal:'right' }} autoHideDuration={6000} onClose={closeSnack}>\n        <Alert severity=\"warning\" onClose={closeSnack}>\n            Please fill all mandatory questions before submission!\n       </Alert>\n      </Snackbar>\n\n    </div>\n  );\n}\n","import React from 'react';\nimport ScrollableTabsButtonAuto from './ScrollableTabsButtonAuto'\nimport { useIndexedDB } from 'react-indexed-db';\nimport pattern from './Format.json'\n\nexport default class Preview extends React.Component{\n\n    constructor(props){\n        super(props);\n\n        let mystateObj = {}\n        let questionLookup = {}\n        let invalidquestions = []\n        let subscribers = new Map()\n        this.props.json.survey.sections.forEach((section, i) => {\n            if(typeof section.questions !== \"undefined\" && section.questions !== null){\n                section.questions.forEach((question, j) => {\n                    mystateObj[\"s\"+i+\"_q\"+j] = \"\";\n                    if(typeof question.id !== 'undefined' && question.id !== null && question.id !== \"\"){\n                        questionLookup[question.id] = \"s\"+i+\"_q\"+j;\n                    }\n                })\n            }\n        });\n\n        this.state = mystateObj;\n        this.store = this.store.bind(this);\n        this.submit = this.submit.bind(this);\n        this.unsubscribe = this.unsubscribe.bind(this);\n        this.subscribe = this.subscribe.bind(this);\n        this.publish = this.publish.bind(this);\n        this.questionLookup = questionLookup;\n        this.invalidquestions = invalidquestions;\n        this.questionpub = subscribers;\n    }\n\n    publish(sectionid, questionid)\n    {\n      this.questionpub.forEach( (subscriber, id) => {\n        subscriber(sectionid, questionid)\n      });\n    }\n\n    subscribe(id, subscriber)\n    {\n      if(subscriber && this.questionpub)\n      {\n        this.questionpub.set(id, subscriber);\n      }\n    }\n\n    submit(){\n        //console.log(\"&&& inside submit \"+JSON.stringify(this.state))\n\n        const goodtogo = this.props.json.survey.sections.every( (section, i) =>{\n           section.questions.every( (quest, j) => {\n              const uid = 's'+i+'_q'+j\n              if ( (this.state[uid] === undefined || this.state[uid] === '') && (quest.mandatory && quest.mandatory !== undefined && quest.mandatory === true) && this.invalidquestions.indexOf(uid) === -1)\n              {\n                this.publish(i, j)\n                return false\n              }\n              else if ( this.state[uid] !== undefined && this.state[uid] !== '' && this.invalidquestions.indexOf(uid) === -1 && quest.type === 'textbox' && quest.format !== undefined && quest.format !== null && quest.format !== '' && pattern[quest.format] !== undefined && pattern[quest.format] !== null && pattern[quest.format] !== '' && ! new RegExp(pattern[quest.format]).test(this.state[uid]) )\n              {\n                this.publish(i, j)\n                return false\n              }\n              return true\n           })\n        })\n\n        console.log(goodtogo)\n\n        if(!goodtogo){\n          return false\n        }\n\n        const { add } = useIndexedDB('surveys');\n\n        add({survey:this.props.json.survey, answers:this.state}).then(\n          event => {\n            console.log('ID Generated: ', event);\n            this.props.isStale(false)\n          },\n          error => {\n            console.log(error);\n          }\n        );\n        this.publish('','')\n        return true\n    }\n\n    store(field, value){\n        this.props.isStale(true)\n        this.setState( {...this.state, [field] : value})\n    }\n\n    unsubscribe(uid, valid)\n    {\n      if(valid && this.invalidquestions.indexOf(uid) === -1)\n      {\n        this.invalidquestions.push(uid);\n      }else if (!valid && this.invalidquestions.indexOf(uid) !== -1){\n        this.invalidquestions.splice(this.invalidquestions.indexOf(uid));\n      }\n    }\n\n    render(){\n        if(typeof this.props.json.survey === 'undefined'){\n            return (<div style={{color:'red'}}>Error: <b>survey</b> object is missing </div>);\n        }\n        else if(typeof this.props.json.survey.id === 'undefined'){\n            return (<div style={{color:'red'}}>Error: <b>survey id</b> is missing </div>);\n        }\n        else if(this.props.json.survey.id === null){\n            return (<div style={{color:'red'}}>Error: <b>survey id</b> is blank </div>);\n        }\n        else if(typeof this.props.json.survey.version === 'undefined'){\n            return (<div style={{color:'red'}}>Error: <b>survey version</b> is missing </div>);\n        }\n        else if(this.props.json.survey.version === null){\n            return (<div style={{color:'red'}}>Error: <b>survey version</b> is blank </div>);\n        }\n    /*  else if(typeof props.json.survey.sections === 'undefined'){\n            return (<div style={{color:'red'}}>Error: <b>sections </b>object is missing </div>);\n        } */\n        else{\n            return (\n              <div>\n                <ScrollableTabsButtonAuto\n                    survey={this.props.json.survey}\n                    store={this.store}\n                    answers={this.state}\n                    questionLookup={this.questionLookup}\n                    editor={this.props.editor}\n                    submit={this.submit}\n                    unsubscribe={this.unsubscribe}\n                    subscribe={this.subscribe}\n                />\n              </div>\n            )\n        }\n    }\n}\n","\nimport { Auth } from 'aws-amplify'\n\nexport const signIn  = (params) => {\n\n    return (dispatch, getState) => {\n        if(typeof params === 'undefined'){\n\n            Auth.currentAuthenticatedUser().then(data => {\n                dispatch({type : \"AUTH_SUCCESS\", data})\n            })\n            .catch((err) => {\n                dispatch({type:'LOGIN_FAILED', err});\n            })\n        }\n        else{\n\n            Auth.signIn(params.username, params.password).then(data => {\n                dispatch({type : \"LOGIN_SUCCESS\", data})\n            })\n            .catch((err) => {\n              console.log(err);\n                dispatch({type:'LOGIN_FAILED', err});\n            })\n        }\n\n    }\n}\n","import { Storage } from 'aws-amplify';\nimport { useIndexedDB } from 'react-indexed-db';\nimport * as surveydata from './niti-ipsos-surveys.json';\nimport { API } from 'aws-amplify';\n\nconst FetchS3File = (name) =>\n{\n    const { add } = useIndexedDB('conf');\n\n    Storage.get(name).catch(err => console.log(err)).then (result => {\n\n        fetch(result).then((r) => r.text()).then(text  => {\n            add({id:name, text: text}).then( result => {console.log(result)}, err => {console.log(err)} );\n        })\n\n    }, err => {\n        console.log(err);\n    })\n    return null;\n}\n\nconst SyncFile = (name) =>{\n    const { getAll } = useIndexedDB('conf');\n    getAll().then( confFiles => {\n        if ( confFiles.length === 0 || confFiles.filter( conf => conf.id === name).length === 0 )\n        {\n          FetchS3File(name)\n        }\n    }, err => {\n        console.log(err);\n    })\n}\n\nconst SyncAllConfFiles = () => {\n\n    surveydata.surveys.map( (survey) => {\n        return SyncFile(survey.yaml);\n    });\n}\n\nconst SyncSurvey = async (dbentry, username, updateCount) => {\n\n  await dbentry.survey.sections.map( (section, sidx) => {\n      section.questions.map( (quest, idx) =>  {\n      const answer = dbentry.answers['s'+sidx+'_q'+idx];\n      if (quest.type === 'image' && answer !== undefined && answer.dataUrl && answer.dataUrl !== '') {\n        const type = answer.format;\n        const s3url = dbentry.survey.id+'/'+username+'_'+quest.id+'_'+(new Date().getTime()+'.'+type);\n\n        Storage.put(s3url, answer.dataUrl, {\n            contentType: 'image/'+type\n        })\n        .catch(err => console.log(err))\n        .then (result => {\n            dbentry.answers['s'+sidx+'_q'+idx] = result;\n        })\n\n      }\n  })});\n\n  const { deleteRecord  } = useIndexedDB('surveys');\n  API.post('api', '/survey/1', {body: dbentry})\n  .then(response => {\n      deleteRecord(dbentry.id).then((result) => {\n          updateCount()\n      }).catch(error => {\n          console.log(error.response)\n      });\n   });\n}\n\n\nconst SyncAllSurveys = (username, updateCount) => {\n  console.log(username)\n  const { getAll } = useIndexedDB('surveys');\n  getAll().then( surveysFromDB => {\n        surveysFromDB.map( (dbentry) => {\n          SyncSurvey(dbentry, username, updateCount);\n        });\n      }\n    );\n  return null;\n}\n\nconst SaveLocale = (user, locale) => {\n    const { update } = useIndexedDB('user');\n    update({id:0, username: user.username, lang: locale}).then( event => {\n        }, err => {\n          console.log(err)\n        })\n}\n\nconst Push2S3 = (url, type, media, updateDB) => {\n    console.log(url, type)\n    Storage.put(url, media, {\n        contentType: 'image/'+type\n    })\n    .catch(err => console.log(err))\n    .then (result => {\n        updateDB();\n    })\n}\n\nexport { SyncFile, FetchS3File, SyncAllSurveys, SaveLocale, Push2S3, SyncAllConfFiles };\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Avatar from '@material-ui/core/Avatar';\nimport * as surveydata from './niti-ipsos-surveys.json';\nimport { SyncAllConfFiles } from './Util';\n\nclass SurveyPicker extends React.Component {\n    constructor(props){\n      super(props);\n      this.state = { surveys : []};\n\n      this.handleClick = this.handleClick.bind(this);\n\n    }\n\n    handleClick(yaml){\n        this.props.processURL(yaml)\n    }\n\n    componentDidMount(){\n        this.setState({surveys:surveydata.surveys});\n        SyncAllConfFiles();\n\n        window.addEventListener('beforeunload',() => { console.log(\"123.........1\")});\n        window.addEventListener('popstate', () => { console.log(\"234.........1\")});\n\n        window.onpopstate  = (e) => {\n  \t\t      //your code...\n            console.log(\"pop state 1 \")\n  \t    }\n    }\n\n    render(){\n\n        const list = {\n          width: '100%',\n          height: '95vh',\n          border: '1px solid green',\n          display:'flex',\n          flexDirection:'row',\n          justifyContent: 'center',\n          overflowY: 'scroll',\n          padding: '30px'\n        }\n        const paper = {\n          maxWidth: '50%',\n          margin: `10px 10px`,\n          padding: '10px',\n          width: '100%',\n          paddingTop:'20px',\n        }\n\n        const survys = this.state.surveys.map((surv, i) => {\n            return (\n\n                <Paper key={i} style={paper}>\n                  <Grid container spacing={1} style={{cursor:'pointer'}} onClick={() => this.handleClick(surv.yaml)}>\n                    <Grid item >\n                      <Avatar src={surv.icon}>{surv.category}</Avatar>\n                    </Grid>\n                    <Grid item xs zeroMinWidth>\n                      <Typography>{surv.name}</Typography>\n                    </Grid>\n                  </Grid>\n              </Paper>\n\n            )\n        });\n\n        return (\n            <Grid container direction='column' style={list}>\n                {survys}\n            </Grid>\n        )\n\n    }\n}\n\nexport default SurveyPicker;\n","\nexport const DBConfig = {\n  name: 'SurveyDB',\n  version: 1,\n  objectStoresMeta: [\n    {\n      store: 'surveys',\n      storeConfig: { keyPath: 'id', autoIncrement: true },\n      storeSchema: []\n    },\n    {\n      store: 'user',\n      storeConfig: { keyPath: 'id', autoIncrement: true },\n      storeSchema: []\n    }\n    ,\n    {\n      store: 'conf',\n      storeConfig: { keyPath: 'id', autoIncrement: true },\n      storeSchema: []\n    }\n  ]\n};\n\nexport const LocaleConfig = {\n    languages: [{ id:'_en', text:'English'}, {id:'_tn', text:'Tamil'},{id:'_te', text:'Telugu'},{id:'_hn', text:'Hindi'},{id:'_kn', text:'Kannada'}]\n}\n","import React from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport SyncIcon from '@material-ui/icons/Sync';\nimport TranslateIcon from '@material-ui/icons/Translate';\nimport {LocaleConfig} from \"./Config\";\nimport { signOut } from '../store/Actions/SignOutAction'\nimport { connect } from 'react-redux';\nimport { SyncAllSurveys, SyncAllConfFiles, SaveLocale } from './Util'\nimport { useIndexedDB } from 'react-indexed-db';\nimport IconButton from '@material-ui/core/IconButton';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > span': {\n      margin: theme.spacing(2),\n    },\n  },\n  list: {\n    width: 250,\n  },\n  selected: {\n    color: 'red'\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-start',\n  }\n}));\n\nfunction Menu(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [state, setState] = React.useState({\n    user: props.user,\n    userlang: props.userlang,\n    surveycount: ''\n  });\n\n  const {getAll } = useIndexedDB('surveys');\n  const { getByID } = useIndexedDB('user');\n\n  React.useEffect(() => {\n    getByID(0).then( user => {\n        if(user){\n          setState({...state, userlang: user.lang});\n        }\n    }, event => { console.log(event)});\n  }, [])\n\n  const updateCount = () => {\n    getAll().then( data => {\n      setState({...state, surveycount :''+data.length})\n    })\n  }\n\n  const changeLang = (lang) => {\n    setState({...state, user: props.user, userlang: lang});\n    SaveLocale(props.user, lang)\n  }\n\n  const toggleDrawer = (side, open) => event => {\n\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n    setState({ ...state, [side]: open })\n\n    getAll().then( data => {\n      setState({...state, surveycount :''+data.length,[side]: open})\n    }, err => {\n      setState({ ...state, [side]: open })\n    })\n\n  };\n\n  const sideList = side => (\n    <div className={classes.list} role=\"presentation\">\n      <div className={classes.drawerHeader}>\n        <IconButton onClick={toggleDrawer('right', false)}>\n          {theme.direction === 'rtl' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\n        </IconButton>\n      </div>\n      <Divider />\n      <List>\n        {LocaleConfig.languages.map((item, index) =>(\n          <ListItem button key={item.id} style={state.userlang === item.id ? {color:'red'}: null} onClick={() => changeLang(item.id)}>\n            <ListItemIcon><TranslateIcon /></ListItemIcon>\n            <ListItemText primary={item.text} />\n          </ListItem>\n        ))}\n      </List>\n      <Divider />\n      <List>\n      <ListItem button key='Sync1' onClick={() => SyncAllSurveys(state.user.username, updateCount)}>\n        <ListItemIcon><SyncIcon /></ListItemIcon>\n        <ListItemText primary={'Sync Responses ('+state.surveycount+')'} />\n      </ListItem>\n\n      <ListItem button key='Sync2' onClick={() => SyncAllConfFiles()}>\n        <ListItemIcon><SyncIcon /></ListItemIcon>\n        <ListItemText primary='Sync Questionnaires' />\n      </ListItem>\n\n      <ListItem button key='exit' onClick={props.signOut}>\n        <ListItemIcon><ExitToAppIcon /></ListItemIcon>\n        <ListItemText primary='Logout' />\n      </ListItem>\n      </List>\n    </div>\n  );\n\n  return (\n    <div className={classes.root}>\n\n      <MenuIcon color=\"secondary\" onClick={toggleDrawer('right', true)}/>\n\n      <Drawer anchor=\"right\" open={state.right} onClose={toggleDrawer('right', false)}>\n        {sideList('right')}\n      </Drawer>\n    </div>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n          signOut: () => dispatch(signOut())\n      }\n}\n\nconst mapStateToProps = state => {\n\n  return {\n    user: state.signIn.user,\n    userlang: state.signIn.userlang\n  }\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Menu);\n","\nimport { Auth } from 'aws-amplify'\n\nexport const signOut  = () => {\n\n    return (dispatch, getState) => {\n        Auth.signOut().then(data => {\n            dispatch({type : \"LOGOUT_SUCCESS\", data})\n        })\n        .catch((err) => {\n            dispatch({type:'LOGOUT_FAILED', err});\n        })\n    }\n}","import React, {setState} from 'react'\nimport Preview from './Components/Preview';\nimport {Redirect} from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { signIn } from './store/Actions/SignInAction'\nimport SurveyPicker from './Components/SurveyPicker';\nimport Menu from './Components/Menu';\nimport './App.css';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Paper from '@material-ui/core/Paper';\nimport Draggable from 'react-draggable';\nimport Fade from '@material-ui/core/Fade';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Button from '@material-ui/core/Button';\n\nfunction PaperComponent(props) {\n  return (\n    <Draggable cancel={'[class*=\"MuiDialogContent-root\"]'}>\n      <Paper {...props} />\n    </Draggable>\n  );\n}\n\nclass View extends React.Component {\n    constructor(props){\n      super(props);\n      this.state = { surveys : [], open:false, stale: false};\n      this.isStale = this.isStale.bind(this)\n      this.handleCancel = this.handleCancel.bind(this)\n      this.handleSubmit = this.handleSubmit.bind(this)\n    }\n    componentDidMount(){\n      this.props.signIn();\n    }\n\n    isStale(status){\n      this.setState( {...this.state, stale: status})\n    }\n\n    handleCancel(){\n      this.setState({...this.state, open:false});\n    }\n\n    handleSubmit(){\n      this.props.processYAML(\"\");\n      this.setState({...this.state, open:false});\n    }\n\n    render() {\n      const backToListing = () => {\n        if(this.state.stale)\n        {\n          this.setState( {...this.state, open: true})\n        }\n        else{\n          this.props.processYAML(\"\");\n        }\n      }\n\n      if(this.props.editor === false && (typeof this.props.user.username === 'undefined' ||\n        this.props.user.username === null ||\n        this.props.user.username === \"\" )){\n\n        return (\n            <Redirect to='/signin' />\n        )\n    }\n\n       return  (\n        <div >\n            <div className=\"topbar\">\n                  <div style={{float:'left', height:'50px', display:'flex', flexDirection:'row', alignItems:'center'}}>\n                    { this.props.editor === false && this.props.json !== null && this.props.json !== \"\" ?\n                      <ArrowBackIosIcon height='40px' style={{paddingLeft: '5px', cursor: 'pointer'}} onClick={backToListing} />\n                      : null }\n                    <img src={\n                      (typeof this.props.json !== 'undefined' && this.props.json !== null && this.props.json !== \"\"  &&\n                      typeof this.props.json.survey  !== 'undefined' &&\n                      typeof this.props.json.survey.logo !== 'undefined' &&\n                      this.props.json.survey.logo !== null &&\n                      this.props.json.survey.logo !== \"\" ) ? this.props.json.survey.logo : this.props.logo\n                    } alt=\"Surveykshan\" height='40px' style={{padding: '5px', objectFit:'cover'}} />\n                  </div>\n                    <div style={{color:'white', fontSize:'medium', float: 'left'}}>\n                      { (typeof this.props.json !== 'undefined' && this.props.json !== null && this.props.json !== \"\" &&\n                        typeof this.props.json.survey  !== 'undefined' &&\n                        typeof this.props.json.survey.title !== 'undefined' &&\n                        this.props.json.survey.title !== null &&\n                        this.props.json.survey.title !== \"\" ) ? this.props.json.survey.title  : \"Surveykshan\"\n\n                      }\n                    </div>\n                    <div style={{float:'right', paddingRight: 30, color:'white', fontSize:'small', alignItems:'right', align:'right'}}>\n                         <Menu/>\n                    </div>\n\n            </div>\n              {typeof this.props.json !== 'undefined' && this.props.json !== null && this.props.json !== \"\" ?\n                <Preview json={this.props.json} setNav={this.setNav} editor={this.props.editor} isStale={this.isStale}/>\n              : typeof this.props.err !== 'undefined' && this.props.err !== null && this.props.err !== \"\" ?\n                <div style={{color:'red'}}>Error: {this.props.err.message} at line number {this.props.err.parsedLine}  </div>\n              : this.props.editor === false && typeof this.props.user.username !== 'undefined' && this.props.user.username !== null && this.props.user.username !== \"\" ?\n                <SurveyPicker processURL={this.props.processURL}/>\n              : null}\n\n              <Dialog open={this.state.open} disableBackdropClick={true}\n                onClose={this.handleCancel} PaperComponent={PaperComponent} >\n                <DialogTitle style={{cursor: 'move'}} id=\"draggable-dialog-title\">\n                  <b>The current questionnaire is not saved !!</b>\n                </DialogTitle>\n                <DialogContent>\n                     Moving out loses the data! Are you sure you want to go back ?\n                </DialogContent>\n                <DialogActions>\n                    <Button className=\"bbutton\" onClick={this.handleSubmit}> Yes </Button>\n                    <Button className=\"bbutton\" style={{\n                        color:'white',\n                        backgroundColor:'rgb(74, 119, 229)',\n                        width:'auto'\n                    }} onClick={this.handleCancel}> Cancel </Button>\n\n                </DialogActions>\n            </Dialog>\n          </div>\n       )\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n          signIn: () => dispatch(signIn()),\n      }\n}\n\n\nconst mapStateToProps = state => {\n  return {\n    user: state.signIn.user\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(View);\n","import React from 'react';\nimport './App.css';\n\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/mode-yaml\";\nimport \"ace-builds/src-noconflict/theme-monokai\";\nimport View from './View'\n\nimport OpenIcon from '@material-ui/icons/CloudDownload';\nimport SaveIcon from '@material-ui/icons/CloudDone';\nimport SaveAsIcon from '@material-ui/icons/CloudUpload';\n\nimport Button from '@material-ui/core/Button';\nimport { Storage } from 'aws-amplify';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Paper from '@material-ui/core/Paper';\nimport Draggable from 'react-draggable';\nimport {DBConfig} from './Components/Config'\nimport { initDB, useIndexedDB } from 'react-indexed-db';\nimport { UserProvider } from \"./Components/UserContext\";\nimport Fade from '@material-ui/core/Fade';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nfunction PaperComponent(props) {\n  return (\n    <Draggable cancel={'[class*=\"MuiDialogContent-root\"]'}>\n      <Paper {...props} />\n    </Draggable>\n  );\n}\n\ninitDB(DBConfig);\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.refName = React.createRef();\n    this.process = this.process.bind(this);\n\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.showDialog = this.showDialog.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n    this.state = {open: false, loading: false, category: \"\", survey: \"\", selection: \"\", username: \"\", lang: \"_en\"};\n    const { getByID } = useIndexedDB('user');\n    getByID(0).then( user => {\n        if(user){\n          this.state = {open: false, loading: false, category: \"\", survey: \"\", selection: \"\", username: user.username, lang: user.lang};\n        }\n    }, event => { console.log(event)});\n  }\n\n  process(){\n    const yaml = this.refName.current.editor.getValue();\n    this.props.processYAML(yaml);\n  }\n\n  handleKeyDown(e){\n    if(e.keyCode === 13) {\n      this.handleSubmit();\n    }\n  }\n\n  handleChange(e){\n    this.setState({\n      ...this.state,\n      [e.target.id] : e.target.value\n    })\n\n  }\n\n  handleCancel(){\n    this.setState({...this.state, open:false, loading: false, selection:\"\" });\n  }\n\n  handleSubmit(){\n    if(this.state.selection === \"save\"){\n      this.setState({...this.state, loading: true });\n      Storage.put(this.state.category+'/'+this.state.survey+'.yml', this.props.yaml, {\n        contentType: 'text/plain'\n      })\n      .catch(err => console.log(err))\n      .then (result => {\n          this.setState({...this.state, open:false, loading: false });\n        }\n      )\n    }\n    else{\n      this.setState({...this.state, loading: true });\n      Storage.get(this.state.category+'/'+this.state.survey+'.yml', {\n        contentType: 'text/plain'\n      })\n      .catch(err => console.log(err))\n      .then (result => {\n          this.setState({...this.state, open:false, loading: false });\n          this.props.processURL(result);\n        }\n      )\n    }\n  }\n\n  showDialog(flag){\n    this.setState({...this.state, open:true, selection: flag});\n  }\n\n  render() {\n\n    const user = { username: this.state.username, lang: this.state.lang };\n    \n    return (\n      <UserProvider value={{user}}>\n      <div className=\"App\" style={{height: this.props.height, width: this.props.width}}>\n          <div className=\"leftpane\">\n              <div className=\"topbar\">\n                <div className=\"title\">\n                  <div style={{display:'flex', alignItems:'center'}}>\n                    <img src={this.props.logo} alt=\"Surveykshan\" height=\"40px\" style={{padding: '5px'}} />\n                  </div>\n                  <div >\n                    <div style={{color:'white', fontSize:'x-large', paddingLeft:'5px'}}>Surveykshan</div>\n                    <div style={{color:'white', fontSize:'small', textAlign:'left', paddingLeft:'5px', paddingBottom:'5px'}}>Create surveys in a jiffy</div>\n                  </div>\n                </div>\n                <div style={{margin:'20px'}}>\n                    <Button variant=\"contained\" startIcon={<OpenIcon/>} style={{margin:'10px'}} size=\"small\"\n                    onClick={() => this.showDialog('open')}>\n                    Open\n                  </Button>\n                  <Button variant=\"contained\" startIcon={<SaveIcon/>} style={{margin:'10px'}} size=\"small\"\n                  onClick={() => this.showDialog('save')}>\n                  Save\n                  </Button>\n                  <Button variant=\"contained\" startIcon={<SaveAsIcon/>} style={{margin:'10px'}} size=\"small\"\n                  onClick={() => this.showDialog('save')}>\n                    Save As\n                  </Button>\n                </div>\n              </div>\n          <div>\n            <AceEditor\n              mode=\"yaml\"\n              theme=\"monokai\"\n              name=\"ace-editor\"\n              height=\"92vh\"\n              width=\"50vw\"\n              fontSize={14}\n              focus={true}\n              showPrintMargin={false}\n              editorProps={{ $blockScrolling: Infinity }}\n              ref={this.refName}\n              value={this.props.yaml}\n              wrapEnabled={true}\n              placeholder=\"\"\n              onChange={this.process}\n\n            />\n          </div>\n          </div>\n          <div className=\"rightpane\">\n            <View {...this.props} editor={true} />\n          </div>\n\n          <Dialog open={this.state.open} disableBackdropClick={true}\n            onClose={this.handleCancel} PaperComponent={PaperComponent} >\n            <DialogTitle\n                style={{\n                    cursor: 'move',\n                    borderBottom: '1px groove lightgray'\n                }} id=\"draggable-dialog-title\"><b>Please provide the following details</b>\n            </DialogTitle>\n            <DialogContent>\n            <Fade in={this.state.loading} unmountOnExit style={{\n                transitionDelay: this.state.loading ? '800ms' : '0ms',\n            }}>\n                <LinearProgress />\n            </Fade>\n                <TextField autoFocus key=\"category\" fullWidth id=\"category\" label=\"Category\"\n                    onChange={this.handleChange} value={this.state.category} required/>\n                <TextField key=\"survey\" fullWidth id=\"survey\" label=\"Survey\"\n                    onChange={this.handleChange} value={this.state.survey}\n                    onKeyDown={this.handleKeyDown} required />\n\n            </DialogContent>\n            <DialogActions>\n                <Button className=\"bbutton\" onClick={this.handleCancel} > Cancel </Button>\n                <Button\n                    className=\"bbutton\"\n                    onClick={this.handleSubmit}\n                    style={{\n                        color:'white',\n                        backgroundColor:'rgb(74, 119, 229)',\n                        width:'auto'\n                    }}\n                > Done </Button>\n            </DialogActions>\n        </Dialog>\n      </div>\n      </UserProvider>\n\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport { useIndexedDB } from 'react-indexed-db';\n\nexport default class DPreview extends React.Component{\n\n    constructor(props){\n        super(props);\n\n        let mystateObj = {}\n        let questionLookup = {}\n        this.props.json.survey.sections.forEach((section, i) => {\n            if(typeof section.questions !== \"undefined\" && section.questions !== null){\n                section.questions.forEach((question, j) => {\n                    mystateObj[\"s\"+i+\"_q\"+j] = \"\";\n                    if(typeof question.id !== 'undefined' && question.id !== null && question.id !== \"\"){\n                        questionLookup[question.id] = \"s\"+i+\"_q\"+j;\n                    }\n                })\n            }\n        });\n\n        this.state = mystateObj;\n        this.store = this.store.bind(this);\n        this.submit = this.submit.bind(this);\n        this.questionLookup = questionLookup;\n    }\n\n    submit(){\n        console.log(\"&&& inside submit \"+JSON.stringify(this.state))\n        const { add } = useIndexedDB('surveys');\n\n        add({survey:this.props.json.survey, answers:this.state}).then(\n          event => {\n            console.log('ID Generated: ', event);\n          },\n          error => {\n            console.log(error);\n          }\n        );\n    }\n\n    store(field, value){\n        this.setState( {...this.state, [field] : value})\n    }\n\n    render(){\n        console.log(this.state);\n\n        if(typeof this.props.json.survey === 'undefined'){\n            return (<div style={{color:'red'}}>Error: <b>survey</b> object is missing </div>);\n        }\n        else if(typeof this.props.json.survey.id === 'undefined'){\n            return (<div style={{color:'red'}}>Error: <b>survey id</b> is missing </div>);\n        }\n        else if(this.props.json.survey.id === null){\n            return (<div style={{color:'red'}}>Error: <b>survey id</b> is blank </div>);\n        }\n        else if(typeof this.props.json.survey.version === 'undefined'){\n            return (<div style={{color:'red'}}>Error: <b>survey version</b> is missing </div>);\n        }\n        else if(this.props.json.survey.version === null){\n            return (<div style={{color:'red'}}>Error: <b>survey version</b> is blank </div>);\n        }\n    /*  else if(typeof props.json.survey.sections === 'undefined'){\n            return (<div style={{color:'red'}}>Error: <b>sections </b>object is missing </div>);\n        } */\n        else{\n           console.log(this.props.json.survey)\n           console.log(this.store)\n           console.log(this.state)\n           console.log(this.questionLookup)\n           console.log(this.props.editor)\n           console.log(this.submit)\n\n            return (\n                <div/>\n            )\n        }\n    }\n}\n","import React from 'react'\nimport DPreview from './Components/DPreview';\nimport {Redirect} from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { signIn } from './store/Actions/SignInAction'\nimport SurveyPicker from './Components/SurveyPicker';\nimport Menu from './Components/Menu';\nimport './App.css';\n\nclass DView extends React.Component {\n    constructor(props){\n      super(props);\n      this.state = { surveys : []};\n    }\n    componentDidMount(){\n      this.props.signIn();\n    }\n\n    render() {\n      console.log(this.props.user.username);\n      if(this.props.editor === false && (typeof this.props.user.username === 'undefined' ||\n        this.props.user.username === null ||\n        this.props.user.username === \"\" )){\n\n        return (\n            <Redirect to='/signin' />\n        )\n    }\n\n       return  (\n        <div >\n            <div className=\"topbar\">\n\n                  <div style={{float:'left', height:'50px', width:'50px'}}>\n                    <img src={\n                      (typeof this.props.json !== 'undefined' &&\n                      typeof this.props.json.survey  !== 'undefined' &&\n                      typeof this.props.json.survey.logo !== 'undefined' &&\n                      this.props.json.survey.logo !== null &&\n                      this.props.json.survey.logo !== \"\" ) ? this.props.json.survey.logo : this.props.logo\n                    } alt=\"Surveykshan\" height='40px' style={{padding: '5px', objectFit:'cover'}} />\n                  </div>\n                    <div style={{color:'white', fontSize:'medium', paddingLeft:'20px', float: 'left'}}>\n                      { (typeof this.props.json !== 'undefined' &&\n                        typeof this.props.json.survey  !== 'undefined' &&\n                        typeof this.props.json.survey.title !== 'undefined' &&\n                        this.props.json.survey.title !== null &&\n                        this.props.json.survey.title !== \"\" ) ? this.props.json.survey.title  : \"Surveykshan\"\n\n                      }\n                    </div>\n                    <div style={{float:'right', paddingRight: 30, color:'white', fontSize:'small', alignItems:'right', align:'right'}}>\n                         <Menu/>\n                    </div>\n\n            </div>\n              {typeof this.props.json !== 'undefined' && this.props.json !== null && this.props.json !== \"\" ?\n                <DPreview json={this.props.json} setNav={this.setNav} editor={this.props.editor} />\n              : typeof this.props.err !== 'undefined' && this.props.err !== null && this.props.err !== \"\" ?\n                <div style={{color:'red'}}>Error: {this.props.err.message} at line number {this.props.err.parsedLine}  </div>\n              : this.props.editor === false && typeof this.props.user.username !== 'undefined' && this.props.user.username !== null && this.props.user.username !== \"\" ?\n                <SurveyPicker processURL={this.props.processURL} />\n              : null}\n          </div>\n       )\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n          signIn: () => dispatch(signIn()),\n      }\n}\n\n\nconst mapStateToProps = state => {\n  return {\n    user: state.signIn.user\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DView);\n","import React from 'react';\nimport './App.css';\n\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/mode-yaml\";\nimport \"ace-builds/src-noconflict/theme-monokai\";\nimport DView from './DView'\n\nimport OpenIcon from '@material-ui/icons/CloudDownload';\nimport SaveIcon from '@material-ui/icons/CloudDone';\nimport SaveAsIcon from '@material-ui/icons/CloudUpload';\n\nimport Button from '@material-ui/core/Button';\nimport { Storage } from 'aws-amplify';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Paper from '@material-ui/core/Paper';\nimport Draggable from 'react-draggable';\nimport Fade from '@material-ui/core/Fade';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nfunction PaperComponent(props) {\n  return (\n    <Draggable cancel={'[class*=\"MuiDialogContent-root\"]'}>\n      <Paper {...props} />\n    </Draggable>\n  );\n}\n\nclass Dashboard extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.refName = React.createRef();\n    this.process = this.process.bind(this);\n\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.showDialog = this.showDialog.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n    this.state = {open: false, loading: false, category: \"\", survey: \"\", selection: \"\", username: \"\", lang: \"_en\"};\n\n  }\n\n  process(){\n    const yaml = this.refName.current.editor.getValue();\n    this.props.processYAML(yaml);\n  }\n\n  handleKeyDown(e){\n    if(e.keyCode === 13) {\n      this.handleSubmit();\n    }\n  }\n\n  handleChange(e){\n    this.setState({\n      ...this.state,\n      [e.target.id] : e.target.value\n    })\n\n  }\n\n  handleCancel(){\n    this.setState({...this.state, open:false, loading: false, selection:\"\" });\n  }\n\n  handleSubmit(){\n    if(this.state.selection === \"save\"){\n      this.setState({...this.state, loading: true });\n      Storage.put(this.state.category+'/'+this.state.survey+'.yml', this.props.yaml, {\n        contentType: 'text/plain'\n      })\n      .catch(err => console.log(err))\n      .then (result => {\n          this.setState({...this.state, open:false, loading: false });\n        }\n      )\n    }\n    else{\n      this.setState({...this.state, loading: true });\n      Storage.get(this.state.category+'/'+this.state.survey+'.yml', {\n        contentType: 'text/plain'\n      })\n      .catch(err => console.log(err))\n      .then (result => {\n          this.setState({...this.state, open:false, loading: false });\n          this.props.processURL(result);\n        }\n      )\n    }\n  }\n\n  showDialog(flag){\n    this.setState({...this.state, open:true, selection: flag});\n  }\n\n  render() {\n    console.log(this.state.yaml)\n    return (\n\n      <div className=\"App\" style={{height: this.props.height, width: this.props.width}}>\n          <div className=\"leftpane\">\n              <div className=\"topbar\">\n                <div className=\"title\">\n                  <div style={{display:'flex', alignItems:'center'}}>\n                    <img src={this.props.logo} alt=\"Surveykshan\" height=\"40px\" style={{padding: '5px'}} />\n                  </div>\n                  <div >\n                    <div style={{color:'white', fontSize:'x-large', paddingLeft:'5px'}}>Surveykshan</div>\n                    <div style={{color:'white', fontSize:'small', textAlign:'left', paddingLeft:'5px', paddingBottom:'5px'}}>Create Dashboard in a jiffy</div>\n                  </div>\n                </div>\n                <div style={{margin:'20px'}}>\n                    <Button variant=\"contained\" startIcon={<OpenIcon/>} style={{margin:'10px'}} size=\"small\"\n                    onClick={() => this.showDialog('open')}>\n                    Open\n                  </Button>\n                  <Button variant=\"contained\" startIcon={<SaveIcon/>} style={{margin:'10px'}} size=\"small\"\n                  onClick={() => this.showDialog('save')}>\n                  Save\n                  </Button>\n                  <Button variant=\"contained\" startIcon={<SaveAsIcon/>} style={{margin:'10px'}} size=\"small\"\n                  onClick={() => this.showDialog('save')}>\n                    Save As\n                  </Button>\n                </div>\n              </div>\n          <div>\n            <AceEditor\n              mode=\"yaml\"\n              theme=\"monokai\"\n              name=\"ace-editor\"\n              height=\"92vh\"\n              width=\"50vw\"\n              fontSize={14}\n              focus={true}\n              showPrintMargin={false}\n              editorProps={{ $blockScrolling: Infinity }}\n              ref={this.refName}\n              value={this.props.yaml}\n              wrapEnabled={true}\n              placeholder=\"\"\n              onChange={this.process}\n\n            />\n          </div>\n          </div>\n          <div className=\"rightpane\">\n            <DView {...this.props} editor={true} />\n          </div>\n\n          <Dialog open={this.state.open} disableBackdropClick={true}\n            onClose={this.handleCancel} PaperComponent={PaperComponent} >\n            <DialogTitle\n                style={{\n                    cursor: 'move',\n                    borderBottom: '1px groove lightgray'\n                }} id=\"draggable-dialog-title\"><b>Please provide the following details</b>\n            </DialogTitle>\n            <DialogContent>\n            <Fade in={this.state.loading} unmountOnExit style={{\n                transitionDelay: this.state.loading ? '800ms' : '0ms',\n            }}>\n                <LinearProgress />\n            </Fade>\n                <TextField autoFocus key=\"category\" fullWidth id=\"category\" label=\"Category\"\n                    onChange={this.handleChange} value={this.state.category} required/>\n                <TextField key=\"survey\" fullWidth id=\"survey\" label=\"Survey\"\n                    onChange={this.handleChange} value={this.state.survey}\n                    onKeyDown={this.handleKeyDown} required />\n\n            </DialogContent>\n            <DialogActions>\n                <Button className=\"bbutton\" onClick={this.handleCancel} > Cancel </Button>\n                <Button\n                    className=\"bbutton\"\n                    onClick={this.handleSubmit}\n                    style={{\n                        color:'white',\n                        backgroundColor:'rgb(74, 119, 229)',\n                        width:'auto'\n                    }}\n                > Done </Button>\n            </DialogActions>\n        </Dialog>\n      </div>\n\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react'\n\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Fade from '@material-ui/core/Fade';\nimport { signIn } from '../store/Actions/SignInAction'\nimport {Redirect} from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Auth } from 'aws-amplify';\nimport { Hub } from 'aws-amplify'\nimport { useIndexedDB } from 'react-indexed-db';\n\nfunction Login(props){\n\n    const [state, setState] = React.useState({\n        username : \"prasad@ideafactors.com\",\n        password : \"testing@1234\",\n        newpassword: \"\",\n        loginError: \"\",\n        loading: false,\n        user: {},\n        userlang: props.lang\n    })\n\n    const {getCurrentSession} = props;\n    const {add, update } = useIndexedDB('user');\n\n    React.useEffect(() => {\n        getCurrentSession();\n    });\n\n    React.useEffect(() => {\n        Hub.listen('auth', (data) => {\n            console.log(payload.event);\n          const { payload } = data\n           if(payload.event === 'signIn_failure'){\n             console.log('login failure')\n            setState({...state, username : \"\", password: \"\", newpassword: \"\",\n            loginError: \"Invalid Email Address & Password combination. \",\n            loading: false})\n           }\n        })\n\n      }, [props, state])\n\n    function handleKeyDown(e){\n        if(e.keyCode === 13) {\n            handleLogin();\n        }\n    }\n\n    function handleChange(e){\n        setState({\n            ...state,\n            [e.target.id] : e.target.value\n        })\n    }\n\n    function handleCancel(){\n        setState({...state, username : \"\", password: \"\", newpassword: \"\", loginError: \"\", loading: false})\n    }\n\n    function changePassword(){\n        Auth.completeNewPassword(props.user, state.newpassword);\n    }\n\n    function handleLogin(){\n\n        console.log( props.username , props.lang, state.username, state.lang)\n\n        if(state.username.trim() === \"\" || state.password.trim() === \"\" ){\n            setState({...state, loginError:\"Email Address and Password cannot be blank\"});\n        }\n        else{\n            props.signIn(state);\n            console.log(props.lang)\n            setState({...state, loading: true, loginError:\"\", lang:props.userlang});\n\n            if( props.username === '' ){\n                add({id:0, username: state.username.trim(), lang: '_en'}).then( resp => {}, err =>{console.log(err);})\n            } else if (props.username !== state.username.trim() ){\n                update({id:0, username: state.username.trim(), lang: '_en'}).then( resp => {}, err =>{console.log(err);})\n            }\n\n        }\n    }\n\n     const newp = typeof props.challenge !== 'undefined' &&\n                    props.challenge === \"NEW_PASSWORD_REQUIRED\" ;\n    if(newp){\n        console.log(\"Redirecting\");\n        return (\n            <Redirect to='/changepassword' />\n        )\n    }\n    else if(typeof props.user.username !== 'undefined' && props.user.username !== null){\n        return (\n            <Redirect to='/preview' />\n        )\n    }\n\n    return (\n        <div className=\"centered\">\n            <div>\n                <img src={props.logo} alt=\"Surveykshan\" height=\"100px\" />\n            </div>\n            <div>\n                Surveykshan\n            </div>\n            <div style={{color:'red', fontSize: 'small', padding: '10px'}}>{state.loginError}</div>\n\n            <div style={{padding:'50px'}}>\n                    <TextField autoFocus key=\"username\" fullWidth id=\"username\" label=\"Email Address\" type=\"email\"\n                        autoComplete=\"username\" onChange={handleChange} value={state.username} required/>\n                    <TextField fullWidth key=\"password\" id=\"password\" label=\"Password\" type=\"password\"\n                        autoComplete=\"current-password\" onChange={handleChange} value={state.password}\n                        onKeyDown={handleKeyDown} required />\n                <div style={{width: '100%'}}>\n                    <Fade in={state.loading} unmountOnExit style={{\n                        transitionDelay: state.loading ? '800ms' : '0ms',\n                    }}>\n                        <LinearProgress />\n                    </Fade>\n                </div>\n            </div>\n\n            <div style={{paddingTop: '5px'}}>\n                <div style={{display: 'flex', flexDirection: 'row', }}>\n                        <Button variant=\"outlined\" onClick={handleCancel} color=\"primary\" style={{margin: '20px'}}> Cancel </Button>\n                        <Button\n                            variant=\"contained\"\n                            onClick={handleLogin}\n                            color=\"primary\"\n                            style={{margin: '20px'}}\n                        >\n                            Login\n                        </Button>\n                </div>\n            </div>\n        </div>\n\n    )\n}\n\n  const mapDispatchToProps = (dispatch) => {\n    return {\n            signIn: (state) => dispatch(signIn(state)),\n            getCurrentSession: () => dispatch(signIn())\n        }\n  }\n\n  const mapStateToProps = state => {\n    return {\n      user: state.signIn.user,\n      userlang: state.signIn.userlang,\n      challenge: state.signIn.user.challengeName\n    }\n  }\n\n  export default connect(mapStateToProps,mapDispatchToProps)(Login);\n","import React from 'react'\n\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Fade from '@material-ui/core/Fade';\nimport { signIn } from '../store/Actions/SignInAction'\nimport {Redirect} from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { Auth } from 'aws-amplify';\nimport { Hub } from 'aws-amplify'\nimport { useIndexedDB } from 'react-indexed-db';\n\nfunction ChangePassword(props){\n\n    const {getCurrentSession} = props;\n    React.useEffect(() => {\n        getCurrentSession();\n    });\n\n    const [state, setState] = React.useState({\n        newpassword: \"\",\n        loginError: \"\",\n        loading: false,\n    })\n\n    function handleKeyDownPwd(e){\n        if(e.keyCode === 13) {\n            changePassword();\n        }\n    }\n\n    function handleChange(e){\n        setState({\n            ...state,\n            [e.target.id] : e.target.value\n        })\n    }\n\n    function handleCancel(){\n        setState({...state, newpassword: \"\", loginError: \"\", loading: false})\n    }\n\n    function changePassword(){\n        console.log(props.user);\n        Auth.completeNewPassword(props.user, state.newpassword);\n    }\n\n    return (\n        <div className=\"centered\">\n            <div>\n                <img src={props.logo} alt=\"Surveykshan\" height=\"100px\" />\n            </div>\n            <div>\n                Surveykshan\n            </div>\n            <div style={{color:'red', fontSize: 'small', padding: '10px'}}>{state.loginError}</div>\n\n            <div style={{padding:'50px'}}>\n                    <TextField fullWidth id=\"newpassword\" label=\"New Password\" type=\"password\"\n                    autoComplete=\"new-password\" onChange={handleChange} value={state.newpassword} required\n                    onKeyDown={handleKeyDownPwd}/>\n               \n                <div style={{width: '100%'}}>\n                    <Fade in={state.loading} unmountOnExit style={{\n                        transitionDelay: state.loading ? '800ms' : '0ms',\n                    }}>\n                        <LinearProgress />\n                    </Fade>\n                </div>\n            </div>\n\n            <div style={{paddingTop: '5px'}}>\n                <div style={{display: 'flex', flexDirection: 'row', }}>\n                        <Button variant=\"outlined\" onClick={handleCancel} color=\"primary\" style={{margin: '20px'}}> Cancel </Button>\n                        <Button\n                            variant=\"contained\"\n                            onClick={changePassword}\n                            color=\"primary\"\n                            style={{margin: '20px'}}\n                        >\n                            Change Password\n                        </Button>\n                </div>\n            </div>\n        </div>\n\n    )\n}\n\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n            getCurrentSession: () => dispatch(signIn())\n        }\n  }\n\n  const mapStateToProps = state => {\n      console.log(state);\n    return {\n      user: state.signIn.user,\n    }\n  }\n\n  export default connect(mapStateToProps,mapDispatchToProps)(ChangePassword);\n\n","import React from 'react'\nimport App from './App'\nimport Dashboard from './Dashboard'\nimport View from './View'\nimport {BrowserRouter, Switch, Route} from 'react-router-dom'\nimport logo from './logo.png';\nimport YAML from \"yamljs\";\nimport Login from './Components/Login'\nimport ChangePassword from './Components/ChangePassword'\nimport {Redirect} from 'react-router-dom';\nimport { UserProvider } from \"./Components/UserContext\";\nimport { useIndexedDB } from 'react-indexed-db';\n\nclass Home extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {yaml:\"\", json:\"\", str: \"\", err: \"\", height: window.innerHeight, width: window.innerWidth, username: \"\", lang: \"_en\" };\n        this.handleResize = this.handleResize.bind(this);\n        this.processYAML = this.processYAML.bind(this);\n        this.processURL = this.processURL.bind(this);\n    }\n\n    processYAML(survey) {\n\n        let json = \"\";\n            try{\n                json = YAML.parse(survey);\n\n                this.setState(\n                {\n                    yaml : survey,\n                    json : json,\n                    str  : JSON.stringify(json, undefined, 4),\n                    err  : \"\"\n                });\n            }\n            catch(error){\n                this.setState({ ...this.state, yaml : survey, json: \"\", err:error})\n            }\n\n    }\n\n    processURL(url){\n\n      const { getAll } = useIndexedDB('conf');\n      getAll().then( confFiles => {\n          const dbentry = confFiles.filter( conf => conf.id === url);\n          if(dbentry.length > 0)\n          {\n              this.processYAML(dbentry[0].text);\n          }\n      }, err => {\n          console.log(err);\n      })\n\n    }\n\n    processS3URL(url){\n\n      fetch(url)\n             .then((r) => r.text())\n             .then(text  => {\n                 this.processYAML(text);\n                 console.log(text);\n                 console.log(this);\n                 try{\n                     this.processYAML(text);\n                     console.log(text)\n                 }\n                 catch(error){\n                     console.log(error);\n                 }\n\n             })\n\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', this.handleResize);\n        const { getByID } = useIndexedDB('user');\n        getByID(0).then( user => {\n            if(user){\n              this.setState({ ...this.state, username: user.username, lang: user.lang});\n            }\n            else{\n              this.setState({ ...this.state, username: '', lang: '_en'});\n            }\n        }, event => { console.log(event)});\n\n    }\n\n\n  handleResize() {\n    this.setState( {...this.state, height: window.innerHeight, width: window.innerWidth });\n  };\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  render() {\n        const user = { username: this.state.username, lang: this.state.lang };\n\n        return  (\n                <UserProvider value={user}>\n                <BrowserRouter>\n                <Switch>\n                    <Route exact path='/'>\n                        <Redirect to='/signin' />\n                    </Route>\n                    <Route exact path='/signin' render={\n                            (props) => <Login {...this.state} logo={logo} />\n                        }\n                    />\n                    <Route exact path='/changepassword' render={\n                            (props) => <ChangePassword {...this.state} logo={logo} />\n                        }\n                    />\n                    <Route exact path='/preview' render={\n                        (props) => <View\n                                        {...this.state}\n                                        logo={logo}\n                                        height={this.state.height}\n                                        width={this.state.width}\n                                        processYAML={this.processYAML}\n                                        processURL={this.processURL}\n                                        yaml={this.state.yaml}\n                                        json={this.state.json}\n                                        err={this.state.err}\n                                        editor={false}\n                                    />}\n                    />\n                    <Route path='/editor' render={\n                        (props) => <App\n                                    {...props}\n                                    logo={logo}\n                                    height={this.state.height}\n                                    width={this.state.width}\n                                    processYAML={this.processYAML}\n                                    processURL={this.processS3URL}\n                                    yaml={this.state.yaml}\n                                    json={this.state.json}\n                                    err={this.state.err}\n                                    editor={true}\n                                /> }\n                    />\n                    <Route path='/dashboard' render={\n                        (props) => <Dashboard\n                                    {...props}\n                                    logo={logo}\n                                    height={this.state.height}\n                                    width={this.state.width}\n                                    processYAML={this.processYAML}\n                                    processURL={this.processS3URL}\n                                    yaml={this.state.yaml}\n                                    json={this.state.json}\n                                    err={this.state.err}\n                                    editor={true}\n                                /> }\n                    />\n                </Switch>\n                </BrowserRouter>\n                </UserProvider>\n        )\n        }\n}\n\nexport default Home;\n","const initialState = {\n    loginError: null,\n    user : {},\n    userlang: \"_en\"\n}\n\nconst SignInReducer = (state = initialState, action) => {\n    switch(action.type){\n        case 'AUTH_SUCCESS':\n        case 'LOGIN_SUCCESS':\n            return {...state, loginError:'', user: action.data, userlang: \"_en\"};\n        case 'LOGIN_FAILED':\n            return {...state, loginError: 'Invalid Email Address & Password combination. '}\n        default:\n           return state\n    }\n}\n\nexport default SignInReducer\n","const initialState = {}\n\nconst SignOutReducer = (state = initialState, action) => {\n    switch(action.type){\n        case 'LOGOUT_SUCCESS':\n            return {...state, logoutError: '', user : {}};\n\n        case 'LOGOUT_FAILED':\n            console.log(\"Logout failed\")\n            return {...state, logoutError: 'Logout failed. Please try again. '}\n\n        default:\n           return state  \n    }\n}\n\nexport default SignOutReducer","import {combineReducers} from 'redux'\nimport SignInReducer from './SignInReducer'\nimport SignOutReducer from './SignOutReducer'\n\nconst AppReducer = combineReducers({\n    signIn: SignInReducer,\n    signOut: SignOutReducer,\n})\n\nconst RootReducer = (state, action) => {\n    if (action.type === 'LOGOUT_SUCCESS') {\n        state = undefined\n      }\n    return AppReducer(state, action)\n  }\n\nexport default RootReducer","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\n\nconst awsmobile = {\n    \"aws_project_region\": \"us-east-1\",\n    \"aws_cognito_identity_pool_id\": \"us-east-1:1006d6a6-988e-4147-9b6e-f91c30b1e8dc\",\n    \"aws_cognito_region\": \"us-east-1\",\n    \"aws_user_pools_id\": \"us-east-1_X9iVkLiJO\",\n    \"aws_user_pools_web_client_id\": \"vmkv14tivuv757u86hhde21de\",\n    \"oauth\": {},\n    \"aws_content_delivery_bucket\": \"surveykshan.com-dev\",\n    \"aws_content_delivery_bucket_region\": \"us-east-1\",\n    \"aws_content_delivery_url\": \"https://dny8vau49u78p.cloudfront.net\",\n    \"aws_user_files_s3_bucket\": \"surveykshanstorage114915-dev\",\n    \"aws_user_files_s3_bucket_region\": \"us-east-1\",\n    \"aws_cloud_logic_custom\": [\n        {\n            \"name\": \"api\",\n            \"endpoint\": \"https://as25k1hts9.execute-api.us-east-1.amazonaws.com/dev\",\n            \"region\": \"us-east-1\"\n        }\n    ]\n};\n\n\nexport default awsmobile;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Home from './Home';\nimport { applyMiddleware, createStore } from 'redux';\nimport { Provider } from 'react-redux'\nimport RootReducer from './store/Reducers/RootReducer'\nimport * as serviceWorker from './serviceWorker';\nimport thunk from 'redux-thunk'\nimport \"@ionic/pwa-elements\";\nimport { defineCustomElements } from '@ionic/pwa-elements/loader'; // add this line\n\nimport Amplify from 'aws-amplify'\nimport config from './aws-exports'\nAmplify.configure(config)\n\nconst store = createStore(RootReducer, applyMiddleware(thunk));\nReactDOM.render(<Provider store={store}><Home /></Provider>, document.getElementById('root'));\n\n//ReactDOM.render(<Home />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\ndefineCustomElements(window);\n","module.exports = __webpack_public_path__ + \"static/media/logo.ed79d5c5.png\";"],"sourceRoot":""}