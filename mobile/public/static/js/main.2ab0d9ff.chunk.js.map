{"version":3,"sources":["logo.png","../node_modules/@ionic/pwa-elements/dist/esm-es5 lazy /^/.*/.entry/.js$/ include: /.entry/.js$/ exclude: /.system/.entry/.js$/ groupOptions: {} namespace object","Components/Navbar.js","Components/TabPanel.js","Components/Question.js","Components/Section.js","Components/ScrollableTabsButtonAuto.js","Components/Preview.js","store/Actions/SignInAction.js","View.js","App.js","Components/Login.js","Home.js","store/Reducers/SignInReducer.js","store/Reducers/SignOutReducer.js","store/Reducers/RootReducer.js","serviceWorker.js","aws-exports.js","index.js"],"names":["module","exports","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","Navbar","props","viewerStyle","editor","current","className","Button","variant","color","endIcon","onClick","goto","total","startIcon","TabPanel","children","value","index","Typography","component","role","hidden","Box","p","Camera","Plugins","Geolocation","useStyles","makeStyles","theme","root","margin","spacing","width","textAlign","fontFamily","fontSize","multiSelectValues","Question","decoder","useRef","WasmDecoder","getInstance","qid","a","getCurrentPosition","coordinates","console","log","putLocation","getPhoto","resultType","CameraResultType","Uri","image","onChange","event","target","type","store","name","checked","onMultiSelect","controlName","push","filter","arrayItem","position","coords","latitude","longitude","React","useState","showcamera","setShowcamera","stream","validateConditionGroup","conditionGroup","conditionArray","match","result","overall","i","length","validateCondition","slice","error","answers","questionLookup","replace","indexOf","classes","asterisk","question","mandatory","style","chk","Switch","uid","condition","options","TextField","fullWidth","multiline","row","hasOptions","hasConditionalOptions","conditionaloptions","vals","option","MenuItem","key","conditionalVals","forEach","conditionaloption","concat","Select","autoWidth","FormControlLabel","control","Radio","label","RadioGroup","eror","Checkbox","FormGroup","val","padding","takePicture1","height","autoPlay","display","direction","justifyContent","context","document","getElementById","getContext","video","drawImage","pause","src","getTracks","track","stop","onError","err","onScan","data","onFindBarcode","barcode","flexDirection","text","help","Section","questions","sectionId","propTypes","PropTypes","node","any","isRequired","flexGrow","backgroundColor","top","ScrollableTabsButtonAuto","setValue","tabs","survey","sections","section","Tab","title","tabs1","hometabpanel","logo","alt","instructions","disabled","thankstabpanel","conclusion","tabpanels","AppBar","Tabs","newValue","indicatorColor","textColor","scrollButtons","Preview","mystateObj","json","j","state","bind","field","this","setState","version","Component","signIn","params","dispatch","getState","Auth","currentAuthenticatedUser","catch","username","password","View","reject","user","overflow","onRefresh","handleRefresh","alignItems","objectFit","paddingLeft","paddingBottom","setNav","message","parsedLine","to","connect","PaperComponent","cancel","Paper","App","refName","createRef","process","handleKeyDown","handleChange","handleCancel","showDialog","handleSubmit","open","loading","category","selection","yaml","getValue","processYAML","keyCode","Storage","put","contentType","get","processURL","flag","size","mode","focus","showPrintMargin","editorProps","$blockScrolling","Infinity","ref","wrapEnabled","placeholder","Dialog","disableBackdropClick","onClose","DialogTitle","cursor","borderBottom","DialogContent","Fade","in","unmountOnExit","transitionDelay","LinearProgress","autoFocus","required","onKeyDown","DialogActions","challenge","challengeName","getCurrentSession","newpassword","loginError","changePassword","loggedUser","completeNewPassword","handleLogin","trim","useEffect","Hub","listen","payload","newp","autoComplete","paddingTop","Home","str","window","innerHeight","innerWidth","handleResize","YAML","parse","JSON","stringify","undefined","url","fetch","r","addEventListener","removeEventListener","exact","path","render","initialState","SignInReducer","action","newstate1","newstate","SignOutReducer","logoutError","AppReducer","combineReducers","signOut","RootReducer","Boolean","location","hostname","awsmobile","Amplify","configure","config","createStore","applyMiddleware","thunk","ReactDOM","navigator","serviceWorker","ready","registration","unregister","defineCustomElements"],"mappings":"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","file":"static/js/main.2ab0d9ff.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ed79d5c5.png\";","var map = {\n\t\"./pwa-camera-modal-instance.entry.js\": [\n\t\t674,\n\t\t5\n\t],\n\t\"./pwa-camera-modal.entry.js\": [\n\t\t675,\n\t\t6\n\t],\n\t\"./pwa-camera.entry.js\": [\n\t\t676,\n\t\t7\n\t],\n\t\"./pwa-toast.entry.js\": [\n\t\t677,\n\t\t8\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 662;\nmodule.exports = webpackAsyncContext;","\r\nimport React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport PlayIcon from '@material-ui/icons/PlayArrow';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport RepeatIcon from '@material-ui/icons/Repeat';\r\nimport PreviousIcon from '@material-ui/icons/NavigateBefore';\r\nimport NextIcon from '@material-ui/icons/NavigateNext';\r\n\r\nexport default function Navbar(props){\r\n    const viewerStyle = props.editor ? \"navbar\" : \"navbar1\";\r\n\r\n    if(props.current === 0){\r\n        return (\r\n            <div className={viewerStyle}>\r\n                <Button variant=\"outlined\" color=\"primary\" endIcon={<PlayIcon/>} \r\n                    onClick={() => props.goto(props.current+1)}>\r\n                    Start\r\n                </Button>\r\n            </div>\r\n        )\r\n    }\r\n    else if(props.current === props.total - 2){\r\n        return (\r\n            <div className={viewerStyle}>\r\n            <Button variant=\"outlined\" color=\"primary\" startIcon={<PreviousIcon/>}\r\n                onClick={() => props.goto(props.current-1)} >\r\n                Previous\r\n            </Button>\r\n            <Button variant=\"outlined\" color=\"primary\" startIcon={<DoneIcon/>} \r\n                onClick={() => props.goto(props.current+1)}>\r\n                Submit\r\n            </Button>\r\n            </div>\r\n        )\r\n    }\r\n    else if(props.current === props.total - 1){\r\n        return (\r\n            <div className={viewerStyle}>\r\n            <Button variant=\"outlined\" color=\"primary\" startIcon={<RepeatIcon/>} \r\n                onClick={() => props.goto(0)}>\r\n                Repeat survey\r\n            </Button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={viewerStyle}>\r\n            <Button variant=\"outlined\" color=\"primary\" startIcon={<PreviousIcon/>}\r\n                onClick={() => props.goto(props.current-1)} >\r\n                Previous\r\n            </Button>\r\n            <Button variant=\"outlined\" color=\"primary\" endIcon={<NextIcon/>} \r\n                onClick={() => props.goto(props.current+1)} >\r\n                Next\r\n            </Button>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nexport default function TabPanel(props) {\r\n  const { children, value, index } = props;\r\n\r\n  return (\r\n    <Typography\r\n      component=\"div\"\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n    >\r\n      {value === index && <Box p={3}>{children}</Box>}\r\n    </Typography>\r\n  );\r\n}\r\n\r\n  ","import React, { useState, useRef, useEffect } from \"react\"\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Switch from '@material-ui/core/Switch';\r\n//import Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport DetectIcon from '@material-ui/icons/MyLocation';\r\nimport CameraIcon from '@material-ui/icons/CameraAlt';\r\nimport SnapIcon from '@material-ui/icons/Camera';\r\nimport { Plugins, CameraResultType, CameraSource } from '@capacitor/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport QrReader from 'react-qr-reader';\r\nimport { WasmDecoder } from \"@impactdk/barcode-scanner\";\r\nimport { ReactBarcodeScanner } from \"@impactdk/react-barcode-scanner\";\r\n\r\nconst { Camera } = Plugins;\r\nconst { Geolocation } = Plugins;\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n      width: '100%',\r\n      textAlign: 'left',\r\n      fontFamily: 'Noto Serif SC',\r\n      fontSize: 'small',\r\n    }\r\n  },\r\n}));\r\n\r\nlet multiSelectValues = {};\r\n\r\nexport default function Question(props){\r\n    const { current: decoder } = useRef(WasmDecoder.getInstance(\"/wasmassets\"));\r\n\r\n    async function getCurrentPosition(qid) {\r\n        const coordinates = await Geolocation.getCurrentPosition();\r\n        console.log('Current', coordinates);\r\n\r\n        putLocation(coordinates, qid);\r\n    }\r\n\r\n    async function takePicture1() {\r\n        const image = await Camera.getPhoto({\r\n          resultType: CameraResultType.Uri\r\n        });\r\n        console.log(image);\r\n    }\r\n    \r\n    function handleBarcode(barcode) {\r\n        // Do something...\r\n    }\r\n\r\n    function onChange(event){\r\n        if(event.target.type === \"checkbox\"){\r\n            props.store(event.target.name, event.target.checked); \r\n        }else{\r\n            props.store(event.target.name, event.target.value); \r\n        }\r\n    }\r\n\r\n    function onMultiSelect(event, controlName){\r\n        if(typeof multiSelectValues[controlName] == \"undefined\"){\r\n            multiSelectValues[controlName] = [];\r\n        }\r\n\r\n        if(event.target.checked){\r\n            multiSelectValues[controlName].push(event.target.name);\r\n        }\r\n        else{\r\n            multiSelectValues[controlName] = multiSelectValues[controlName].filter(arrayItem => arrayItem !== event.target.name);\r\n        }\r\n        props.store(controlName, multiSelectValues[controlName]); \r\n    }\r\n\r\n\r\n    //const [location, setLocation] = React.useState(\"\");\r\n    function getLocation(qid) {\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition((position) => putLocation(position, qid));\r\n        } \r\n    }\r\n\r\n    function putLocation(position, qid){\r\n        //setLocation(position.coords.latitude+\",\"+position.coords.longitude);\r\n        props.store(qid, [position.coords.latitude, position.coords.longitude])\r\n    }\r\n\r\n    const [showcamera, setShowcamera] = React.useState(false);\r\n    const [stream, setStream] = React.useState(null);\r\n\r\n    function getPicture(){\r\n        var video = document.getElementById('video');\r\n\r\n        if(navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n            navigator.mediaDevices.getUserMedia({ video: true }).then(function(stream) {\r\n                setShowcamera(true);\r\n                setStream(stream);\r\n                video.srcObject = stream;\r\n                video.play();\r\n            }); \r\n        }\r\n    }\r\n\r\n    function takePicture(){\r\n        var canvas = document.getElementById('canvas');\r\n        var context = canvas.getContext('2d');\r\n        var video = document.getElementById('video');\r\n        \r\n        context.drawImage(video, 0, 0, 64, 48);\r\n\r\n        video.pause();\r\n        video.src = \"\";\r\n        stream.getTracks().forEach(function(track) {\r\n            track.stop();\r\n          });\r\n          setShowcamera(false);\r\n\r\n    }\r\n\r\n    function turnoffCamera(){\r\n        var video = document.getElementById('video');\r\n        video.pause();\r\n        video.src = \"\";\r\n        stream.getTracks().forEach(function(track) {\r\n            track.stop();\r\n          });\r\n          setShowcamera(false);\r\n    }\r\n\r\n    function handleScan(data) {\r\n        if (data) {\r\n            props.answers[props.uid] = data;\r\n        }\r\n    }\r\n    function handleScanError(err) {\r\n        console.error(err);\r\n    }\r\n\r\n    function validateConditionGroup(conditionGroup){\r\n        try{\r\n            const conditionArray = conditionGroup.match(/[^\\s']+|'([^']*)'/g);\r\n\r\n            let result = false;\r\n            let overall = false;\r\n            for(let i=0; conditionArray.length >= i+3; i=i+4){\r\n                result = validateCondition(conditionArray.slice(i, i+3));\r\n\r\n                //console.log(result);\r\n\r\n                if(i === 0){\r\n                    overall = result;\r\n                }\r\n                else{\r\n                    overall = conditionArray[i+4] === \"and\" ? (overall && result) : (overall || result);\r\n                }\r\n            }\r\n\r\n            return overall;\r\n        }\r\n        catch(error){\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    function validateCondition(conditionArray){\r\n        let result = false;\r\n        //console.log(conditionArray);\r\n        if(conditionArray[1] === \"is\" ){\r\n            if(\"\"+props.answers[props.questionLookup[conditionArray[0]]] === conditionArray[2].replace(/'/g, '')){\r\n                result = true;\r\n            }\r\n        }\r\n        \r\n        if(conditionArray[1] === \"isnot\"){\r\n            if(\"\"+props.answers[props.questionLookup[conditionArray[0]]] !== conditionArray[2].replace(/'/g, '')){\r\n                result = true;\r\n            }\r\n        }\r\n    \r\n        if(conditionArray[1] === \"has\" ){\r\n            if(props.answers[props.questionLookup[conditionArray[0]]].indexOf(conditionArray[2].replace(/'/g, '')) !== -1){\r\n                result = true;\r\n            }\r\n        }\r\n    \r\n        if(conditionArray[1] === \"hasnot\"){\r\n            if(props.answers[props.questionLookup[conditionArray[0]]].indexOf(conditionArray[2].replace(/'/g, '')) === -1){\r\n                result = true;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n    \r\n    const classes = useStyles();\r\n    const asterisk = props.question.mandatory ? <div style={{color:'red'}}>*</div> : null;\r\n    const chk = props.question.type === 'checkbox' ?  \r\n                <Switch \r\n                    name={props.uid} \r\n                    onChange={onChange}  \r\n                    color=\"primary\" \r\n                    checked={props.answers[props.uid] !== \"\" && props.answers[props.uid]} /> \r\n                : null;\r\n\r\n    if(typeof props.question.condition !== \"undefined\" &&  \r\n            props.question.condition !== null \r\n            && props.question.condition !== \"\"\r\n        )\r\n    {\r\n        if(!validateConditionGroup(props.question.condition)){\r\n            return null;\r\n        }\r\n    }\r\n\r\n    let options = null;\r\n    if(props.question.type === 'textbox'){\r\n        options = (\r\n            <form className={classes.root}>\r\n                    <TextField name={props.uid} onChange={onChange} value={props.answers[props.uid]} fullWidth/>\r\n            </form>\r\n        );\r\n    }\r\n    else if(props.question.type === 'textarea'){\r\n        options = (\r\n            <form className={classes.root}>\r\n                    <TextField name={props.uid} multiline row={5} variant=\"outlined\" onChange={onChange} \r\n                    value={props.answers[props.uid]} fullWidth/>\r\n            </form>\r\n        );\r\n    }\r\n    else if(props.question.type === 'select'){\r\n        const hasOptions = typeof props.question.options !== \"undefined\" && props.question.options !== null;\r\n        const hasConditionalOptions = typeof props.question.conditionaloptions !== \"undefined\" && props.question.conditionaloptions !== null;\r\n\r\n        const vals = hasOptions ? props.question.options.map((option) => {\r\n            return (<MenuItem value={option} key={option}>{option}</MenuItem>)\r\n        }) : null;\r\n\r\n        let conditionalVals = [];\r\n        if(hasConditionalOptions){\r\n            props.question.conditionaloptions.forEach((conditionaloption) => {\r\n                if(validateConditionGroup(conditionaloption.condition)){\r\n                    conditionalVals = conditionalVals.concat(conditionaloption.options.map((option) => {\r\n                        return (<MenuItem value={option} key={option}>{option}</MenuItem>)\r\n                    }));\r\n                }\r\n                \r\n            });\r\n        }\r\n\r\n        options = (\r\n            <form className={classes.root}>\r\n                    <Select name={props.uid} autoWidth={false} onChange={onChange} value={props.answers[props.uid]}>\r\n                        {vals}\r\n                        {conditionalVals}\r\n                    </Select>\r\n            </form>\r\n        );\r\n    }\r\n    else if(props.question.type === 'radio'){\r\n\r\n        try{\r\n        const vals = props.question.options.map((option) => {\r\n            if(typeof option === 'string'){\r\n                return (<FormControlLabel value={option} key={option} control={<Radio color=\"primary\" />} label={option} />)\r\n            }\r\n            else if(typeof option === 'object'){\r\n                return (<FormControlLabel value={option.value} key={option.key} control={<Radio color=\"primary\" />} label={option.value} />)\r\n            }\r\n            else{\r\n                return null;\r\n            }\r\n        });\r\n\r\n        options = (\r\n            <form className={classes.root}>\r\n                    <RadioGroup  name={props.uid} onChange={onChange} value={props.answers[props.uid]}>\r\n                        {vals}\r\n                    </RadioGroup>\r\n            </form>\r\n        );\r\n        }catch(eror){}\r\n    }\r\n    else if(props.question.type === 'multiselect'){\r\n        const hasOptions = typeof props.question.options !== \"undefined\" && props.question.options !== null;\r\n        const hasConditionalOptions = typeof props.question.conditionaloptions !== \"undefined\" && props.question.conditionaloptions !== null;\r\n\r\n        const vals = hasOptions ? props.question.options.map((option) => {\r\n            return (<FormControlLabel control=\r\n                {\r\n                    <Checkbox \r\n                    color=\"primary\" \r\n                    value={option} \r\n                    name={option}\r\n                    checked={props.answers[props.uid].indexOf(option) !== -1}\r\n                    onChange={(e) => onMultiSelect(e, props.uid)} />\r\n                } label={option} key={option} />)\r\n        }): null;\r\n\r\n        let conditionalVals = [];\r\n        if(hasConditionalOptions){\r\n            props.question.conditionaloptions.forEach((conditionaloption) => {\r\n                //console.log(\"Conditon \"+validateConditionGroup(conditionaloption.condition));\r\n                if(validateConditionGroup(conditionaloption.condition)){\r\n                    conditionalVals =  conditionalVals.concat(conditionaloption.options.map((option) => {\r\n                        //console.log(\"checking option \"+option);\r\n                        return (\r\n                            <FormControlLabel control={\r\n                                <Checkbox \r\n                                color=\"primary\" \r\n                                value={option} \r\n                                name={option}\r\n                                checked={props.answers[props.uid].indexOf(option) !== -1}\r\n                                onChange={(e) => onMultiSelect(e, props.uid)} />\r\n                            } \r\n                            label={option} key={option} />\r\n                        )\r\n                    }));\r\n\r\n                    //console.log(oppts.length);\r\n                    //conditionalVals.concat(oppts);\r\n                    //console.log(conditionalVals.length);\r\n\r\n                }\r\n                \r\n            });\r\n        }\r\n\r\n        //console.log(conditionalVals.length);\r\n\r\n        options = (\r\n            <form className={classes.root}>\r\n                    <FormGroup name={props.uid} color=\"primary\">\r\n                        {conditionalVals}\r\n                        {vals}\r\n                    </FormGroup>\r\n            </form>\r\n        );\r\n    }\r\n    else if(props.question.type === 'geolocation'){\r\n        const val = typeof props.answers[props.uid] === 'undefined' || props.answers[props.uid] === null ||\r\n                    props.answers[props.uid] === \"\" || props.answers[props.uid].length < 2 ? \"\" : \r\n                    \"[\"+props.answers[props.uid][0]+\", \"+props.answers[props.uid][1]+\"]\"\r\n        options = (\r\n            <form className={classes.root}>\r\n                     <div style={{padding: '10px'}}>{val}</div>\r\n                     <Button variant=\"outlined\" color=\"primary\" startIcon={<DetectIcon/>}\r\n                        onClick={() => getCurrentPosition(props.uid)} >\r\n                        Detect\r\n                    </Button>\r\n            </form>\r\n        );\r\n    }\r\n\r\n    else if(props.question.type === 'image'){\r\n        options = (\r\n            <form className={classes.root} >\r\n            {!showcamera ?\r\n                <Button variant=\"outlined\" color=\"primary\" startIcon={<CameraIcon/>} onClick={() => takePicture1()}>\r\n                    Open Camera\r\n                </Button>\r\n            : null }\r\n\r\n            <video id=\"video\" width=\"64\" height=\"48\" autoPlay></video>\r\n\r\n            <canvas id=\"canvas\" width=\"64\" height=\"48\"></canvas>\r\n\r\n            { showcamera ? \r\n            <div style={{width:'50%', display: 'flex', direction: 'row', justifyContent: 'space-between'}} >\r\n                <Button variant=\"outlined\" color=\"primary\" startIcon={<SnapIcon/>} onClick={takePicture}>\r\n                    Take a picture\r\n                </Button>\r\n                <Button variant=\"outlined\" color=\"primary\" onClick={turnoffCamera} padding=\"10px\">\r\n                    Cancel\r\n                </Button>\r\n            </div>\r\n            : null}\r\n               \r\n            </form>\r\n        );\r\n    }\r\n    else if(props.question.type === 'qrcode'){\r\n        options = (\r\n            <form className={classes.root}>\r\n                <QrReader onError={handleScanError} onScan={handleScan} style={{ width: '100%' }} />\r\n                <p>{props.answers[props.uid]}</p>\r\n            </form>\r\n        );\r\n    }\r\n    else if(props.question.type === 'barcode'){\r\n        options = (\r\n            <form className={classes.root}>\r\n               \r\n               <ReactBarcodeScanner decoder={decoder} onFindBarcode={handleBarcode} />\r\n\r\n            </form>\r\n        );\r\n    }\r\n   \r\n    return (\r\n        <div className=\"question\">\r\n            <div className=\"question text\" style={{display:'flex', flexDirection:'row', justifyContent:'flex-start'}}>\r\n                {props.question.text}{asterisk}  {chk}\r\n            </div>\r\n            <div className=\"question help\">\r\n                {props.question.help}\r\n            </div>\r\n            <div className=\"question options\">\r\n                {options}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport TabPanel from './TabPanel'\r\nimport Question from './Question'\r\n\r\nexport default function Section(props) {\r\n    const questions = typeof props.questions !== 'undefined' &&  props.questions !== null ? \r\n    props.questions.map((question, i) => {\r\n      if(question === null){\r\n        return null;\r\n      }    \r\n      return (\r\n          <Question \r\n            uid={\"s\"+props.sectionId+\"_q\"+i}\r\n            id={typeof question.id !== 'undefined' && question.id !== null && question.id !== \"\" ? question.id : \"s\"+props.sectionId+\"_q\"+i}\r\n            key={\"Question \"+i}\r\n            question={question}\r\n            store={props.store} \r\n            answers={props.answers}\r\n            questionLookup={props.questionLookup}\r\n          />\r\n      )\r\n  }) : []; \r\n    return (\r\n        <TabPanel value={props.value} index={props.index} >\r\n            <div className=\"surveyform\" >\r\n                {questions}\r\n            </div>\r\n        </TabPanel>\r\n    )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport Navbar from './Navbar';\r\nimport TabPanel from './TabPanel';\r\nimport Section from './Section';\r\n\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `scrollable-auto-tab-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    backgroundColor: 'theme.palette.background.paper',\r\n    top: 0\r\n  },\r\n}));\r\n\r\nexport default function ScrollableTabsButtonAuto(props) {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const goto = (newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n\r\n   const tabs = typeof props.survey.sections !== 'undefined' &&  props.survey.sections !== null ? \r\n      props.survey.sections.map((section, i) => {\r\n        if(section === null){\r\n          return null;\r\n        }    \r\n        return (\r\n            <Tab \r\n              label={typeof section.title !== 'undefined' ? section.title: \"\"} \r\n              {...a11yProps(i)} \r\n              key={'Section '+i} \r\n            />\r\n        )\r\n    }) : []; \r\n\r\n    const tabs1 = [ <Tab label=\"Home\"  key=\"Home\" /> , ...tabs,  <Tab label=\"Thanks\"  key=\"Thanks\" /> ]\r\n\r\n    const hometabpanel = <TabPanel value={value} index={0}><div className=\"surveyform\">\r\n                         { typeof props.survey.logo !== 'undefined' && props.survey.logo !== null ? \r\n                            <img src={props.survey.logo} alt=\"survey logo\" />\r\n                          : null}\r\n                          { typeof props.survey.title !== 'undefined'  && props.survey.title !== null  ? \r\n                            <h2>{props.survey.title}</h2>\r\n                          : null}\r\n                           \r\n                          </div>\r\n                          { typeof props.survey.instructions !== 'undefined' && props.survey.instructions !== null? \r\n                            <div>\r\n                                <TextField id=\"instructions\" fullWidth={true} margin=\"normal\" disabled\r\n                                  multiline value={props.survey.instructions} variant=\"filled\" /></div>\r\n                          : null}\r\n                          </TabPanel>\r\n\r\nconst thankstabpanel = (<TabPanel value={value} index={tabs1.length - 1}>\r\n                        <div className=\"surveyform\">\r\n                          { typeof props.survey.conclusion !== 'undefined'  && props.survey.conclusion !== null  ? \r\n                            <h2>{props.survey.conclusion}</h2>\r\n                          : null}\r\n                        </div></TabPanel>)\r\n\r\nconst tabpanels = typeof props.survey.sections !== 'undefined' &&  props.survey.sections !== null ? \r\n                    props.survey.sections.map((section, i) => {\r\n                      if(section === null){\r\n                        return null;\r\n                      }\r\n\r\n                      return (\r\n                          <Section \r\n                            questions={section.questions} \r\n                            key={'Section '+i} \r\n                            value={value}\r\n                            index={i+1}\r\n                            store={props.store} \r\n                            answers={props.answers}\r\n                            questionLookup={props.questionLookup}\r\n                            sectionId={i}\r\n                          />\r\n                      )\r\n                    }) : []; \r\n\r\n    const viewerStyle = props.editor ? \"viewer\" : \"viewer1\";\r\n\r\n  return (\r\n    <div >\r\n      <div className={viewerStyle} > \r\n        <div className={classes.root}>\r\n          <AppBar position=\"sticky\" color=\"default\" >\r\n            <Tabs\r\n              value={value}\r\n              onChange={handleChange}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n              variant=\"scrollable\"\r\n              scrollButtons=\"auto\"\r\n            >\r\n            {tabs1}\r\n          </Tabs>\r\n          </AppBar>\r\n          {hometabpanel}\r\n          {tabpanels}\r\n          {thankstabpanel}\r\n        </div>\r\n      </div>\r\n      <Navbar current={value} total={tabs1.length} goto={goto} editor={props.editor} />\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport ScrollableTabsButtonAuto from './ScrollableTabsButtonAuto'\r\n\r\nexport default class Preview extends React.Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        let mystateObj = {}\r\n        let questionLookup = {}\r\n        this.props.json.survey.sections.forEach((section, i) => {\r\n            if(typeof section.questions !== \"undefined\" && section.questions !== null){\r\n                section.questions.forEach((question, j) => {\r\n                    mystateObj[\"s\"+i+\"_q\"+j] = \"\";\r\n                    if(typeof question.id !== 'undefined' && question.id !== null && question.id !== \"\"){\r\n                        questionLookup[question.id] = \"s\"+i+\"_q\"+j;\r\n                    }\r\n                })\r\n            }\r\n        });\r\n\r\n        this.state = mystateObj;\r\n        this.store = this.store.bind(this);\r\n        this.questionLookup = questionLookup;\r\n    }\r\n\r\n\r\n\r\n    store(field, value){\r\n        this.setState( {...this.state, [field] : value})\r\n    }\r\n\r\n    render(){\r\n        console.log(this.state);\r\n\r\n        if(typeof this.props.json.survey === 'undefined'){\r\n            return (<div style={{color:'red'}}>Error: <b>survey</b> object is missing </div>);\r\n        }\r\n        else if(typeof this.props.json.survey.id === 'undefined'){\r\n            return (<div style={{color:'red'}}>Error: <b>survey id</b> is missing </div>);\r\n        }\r\n        else if(this.props.json.survey.id === null){\r\n            return (<div style={{color:'red'}}>Error: <b>survey id</b> is blank </div>);\r\n        }\r\n        else if(typeof this.props.json.survey.version === 'undefined'){\r\n            return (<div style={{color:'red'}}>Error: <b>survey version</b> is missing </div>);\r\n        }\r\n        else if(this.props.json.survey.version === null){\r\n            return (<div style={{color:'red'}}>Error: <b>survey version</b> is blank </div>);\r\n        }\r\n    /*  else if(typeof props.json.survey.sections === 'undefined'){\r\n            return (<div style={{color:'red'}}>Error: <b>sections </b>object is missing </div>);\r\n        } */\r\n        else{\r\n            return (\r\n                <ScrollableTabsButtonAuto \r\n                    survey={this.props.json.survey}  \r\n                    store={this.store} \r\n                    answers={this.state} \r\n                    questionLookup={this.questionLookup}\r\n                    editor={this.props.editor}\r\n                />\r\n            )\r\n        }\r\n    }\r\n}","\r\nimport { Auth } from 'aws-amplify'\r\n\r\nexport const signIn  = (params) => {\r\n    console.log(\"Inside signin \"+params)\r\n    return (dispatch, getState) => {\r\n        if(typeof params === 'undefined'){\r\n            console.log(\"Inside undefined\")\r\n\r\n            Auth.currentAuthenticatedUser().then(data => {\r\n                dispatch({type : \"AUTH_SUCCESS\", data})\r\n            })\r\n            .catch((err) => {\r\n                dispatch({type:'LOGIN_FAILED', err});\r\n            })\r\n        }\r\n        else{\r\n            console.log(\"Inside else\")\r\n\r\n            Auth.signIn(params.username, params.password).then(data => {\r\n                dispatch({type : \"LOGIN_SUCCESS\", data})\r\n            })\r\n            .catch((err) => {\r\n                dispatch({type:'LOGIN_FAILED', err});\r\n            })\r\n        }\r\n        \r\n    }\r\n}","import React from 'react'\r\nimport Preview from './Components/Preview';\r\nimport {Redirect} from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { signIn } from './store/Actions/SignInAction'\r\nimport ReactPullToRefresh from 'react-pull-to-refresh';\r\n\r\nimport './App.css';\r\n\r\nclass View extends React.Component {\r\n    componentDidMount(){\r\n      this.props.signIn();\r\n    }\r\n\r\n    handleRefresh(resolve, reject) {\r\n      \r\n      console.log('test .....');\r\n      \r\n    }\r\n    \r\n    render() {\r\n      console.log(this.props.user.username);\r\n      if(this.props.editor === false && (typeof this.props.user.username === 'undefined' ||\r\n        this.props.user.username === null || \r\n        this.props.user.username === \"\" )){\r\n\r\n        return (\r\n            <Redirect to='/signin' />\r\n        )\r\n    }\r\n\r\n       return  (\r\n        <div style={{overflow: \"scroll\"}}>\r\n        <ReactPullToRefresh onRefresh={this.handleRefresh} style={{\r\n        textAlign: 'center'\r\n      }}>\r\n        \r\n        \r\n      </ReactPullToRefresh>\r\n<div >\r\n            <div className=\"topbar\">\r\n            <div className=\"title\">\r\n                  <div style={{display:'flex', alignItems:'center', height:'50px', width:'50px'}}>\r\n                    <img src={\r\n                      (typeof this.props.json !== 'undefined' &&\r\n                      typeof this.props.json.survey  !== 'undefined' &&\r\n                      typeof this.props.json.survey.logo !== 'undefined' && \r\n                      this.props.json.survey.logo !== null && \r\n                      this.props.json.survey.logo !== \"\" ) ? this.props.json.survey.logo : this.props.logo\r\n                    } alt=\"Surveykshan\" height='40px' style={{padding: '5px', objectFit:'cover'}} />\r\n                  </div>\r\n                  <div >\r\n                    <div style={{color:'white', fontSize:'medium', paddingLeft:'20px'}}>\r\n                      { (typeof this.props.json !== 'undefined' &&\r\n                        typeof this.props.json.survey  !== 'undefined' &&\r\n                        typeof this.props.json.survey.title !== 'undefined' && \r\n                        this.props.json.survey.title !== null && \r\n                        this.props.json.survey.title !== \"\" ) ? this.props.json.survey.title  : \"Surveykshan\"\r\n\r\n                      }\r\n                    </div>\r\n                    <div style={{color:'white', fontSize:'small', textAlign:'left', paddingLeft:'5px', paddingBottom:'5px'}}></div>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n              {typeof this.props.json !== 'undefined' && this.props.json !== null && this.props.json !== \"\" ? \r\n                <Preview json={this.props.json} setNav={this.setNav} editor={this.props.editor} /> \r\n              : typeof this.props.err !== 'undefined' && this.props.err !== null && this.props.err !== \"\" ? \r\n                <div style={{color:'red'}}>Error: {this.props.err.message} at line number {this.props.err.parsedLine}  </div>\r\n              : null}\r\n          </div>\r\n          </div>\r\n       )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n          signIn: () => dispatch(signIn()),\r\n      }\r\n}    \r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.signIn.user\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(View);","import React from 'react';\r\nimport './App.css';\r\n\r\nimport AceEditor from \"react-ace\";\r\nimport \"ace-builds/src-noconflict/mode-yaml\";\r\nimport \"ace-builds/src-noconflict/theme-monokai\";\r\nimport View from './View'\r\n\r\nimport OpenIcon from '@material-ui/icons/CloudDownload';\r\nimport SaveIcon from '@material-ui/icons/CloudDone';\r\nimport SaveAsIcon from '@material-ui/icons/CloudUpload';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport { Storage } from 'aws-amplify';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Draggable from 'react-draggable';\r\n\r\n\r\nimport Fade from '@material-ui/core/Fade';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\n\r\nfunction PaperComponent(props) {\r\n  return (\r\n    <Draggable cancel={'[class*=\"MuiDialogContent-root\"]'}>\r\n      <Paper {...props} />\r\n    </Draggable>\r\n  );\r\n}\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.refName = React.createRef();\r\n    this.process = this.process.bind(this);\r\n\r\n    this.handleKeyDown = this.handleKeyDown.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleCancel = this.handleCancel.bind(this);\r\n    this.showDialog = this.showDialog.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n\r\n    this.state = {open: false, loading: false, category: \"\", survey: \"\", selection: \"\"};\r\n    //console.log(this.state);\r\n  }\r\n\r\n  process(){\r\n    const yaml = this.refName.current.editor.getValue();\r\n    this.props.processYAML(yaml);\r\n  }\r\n\r\n  handleKeyDown(e){\r\n    if(e.keyCode === 13) {\r\n      this.handleSubmit();\r\n    }\r\n  }\r\n\r\n  handleChange(e){\r\n    this.setState({\r\n      ...this.state,\r\n      [e.target.id] : e.target.value\r\n    })\r\n\r\n    //console.log(this.state);\r\n  }\r\n\r\n  handleCancel(){\r\n    this.setState({...this.state, open:false, loading: false, selection:\"\" });\r\n  }\r\n  \r\n  handleSubmit(){\r\n    //console.log(\"inside handleSubmit \"+this.state);\r\n    if(this.state.selection === \"save\"){\r\n      this.setState({...this.state, loading: true });\r\n      Storage.put(this.state.category+'/'+this.state.survey+'.yml', this.props.yaml, {\r\n        contentType: 'text/plain'\r\n      })\r\n      .catch(err => console.log(err))\r\n      .then (result => {\r\n          this.setState({...this.state, open:false, loading: false });       \r\n        }\r\n      )\r\n    }\r\n    else{\r\n      this.setState({...this.state, loading: true });\r\n      Storage.get(this.state.category+'/'+this.state.survey+'.yml', {\r\n        contentType: 'text/plain'\r\n      })\r\n      .catch(err => console.log(err))\r\n      .then (result => {\r\n        //console.log(result);\r\n          this.setState({...this.state, open:false, loading: false }); \r\n          this.props.processURL(result);      \r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  showDialog(flag){\r\n    this.setState({...this.state, open:true, selection: flag});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\" style={{height: this.props.height, width: this.props.width}}>\r\n          <div className=\"leftpane\">\r\n              <div className=\"topbar\">\r\n                <div className=\"title\">\r\n                  <div style={{display:'flex', alignItems:'center'}}>\r\n                    <img src={this.props.logo} alt=\"Surveykshan\" height=\"40px\" style={{padding: '5px'}} />\r\n                  </div>\r\n                  <div >\r\n                    <div style={{color:'white', fontSize:'x-large', paddingLeft:'5px'}}>Surveykshan</div>\r\n                    <div style={{color:'white', fontSize:'small', textAlign:'left', paddingLeft:'5px', paddingBottom:'5px'}}>Create surveys in a jiffy</div>\r\n                  </div>\r\n                </div>\r\n                <div style={{margin:'20px'}}>\r\n                    <Button variant=\"contained\" startIcon={<OpenIcon/>} style={{margin:'10px'}} size=\"small\"\r\n                    onClick={() => this.showDialog('open')}> \r\n                    Open\r\n                  </Button>\r\n                  <Button variant=\"contained\" startIcon={<SaveIcon/>} style={{margin:'10px'}} size=\"small\"\r\n                  onClick={() => this.showDialog('save')}>                   \r\n                  Save\r\n                  </Button>\r\n                  <Button variant=\"contained\" startIcon={<SaveAsIcon/>} style={{margin:'10px'}} size=\"small\"\r\n                  onClick={() => this.showDialog('save')}> \r\n                    Save As\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n          <div>\r\n            <AceEditor\r\n              mode=\"yaml\"\r\n              theme=\"monokai\"\r\n              name=\"ace-editor\"\r\n              height=\"92vh\"\r\n              width=\"50vw\"\r\n              fontSize={14}\r\n              focus={true}\r\n              showPrintMargin={false}\r\n              editorProps={{ $blockScrolling: Infinity }}\r\n              ref={this.refName}\r\n              value={this.props.yaml}\r\n              wrapEnabled={true}\r\n              placeholder=\"\"\r\n              onChange={this.process}\r\n\r\n            />\r\n          </div>\r\n          </div>\r\n          <div className=\"rightpane\">\r\n            <View {...this.props} editor={true} />\r\n          </div>\r\n\r\n          <Dialog open={this.state.open} disableBackdropClick={true}\r\n            onClose={this.handleCancel} PaperComponent={PaperComponent} >\r\n            <DialogTitle \r\n                style={{ \r\n                    cursor: 'move', \r\n                    borderBottom: '1px groove lightgray' \r\n                }} id=\"draggable-dialog-title\"><b>Please provide the following details</b>\r\n            </DialogTitle>\r\n            <DialogContent>\r\n            <Fade in={this.state.loading} unmountOnExit style={{\r\n                transitionDelay: this.state.loading ? '800ms' : '0ms',\r\n            }}>\r\n                <LinearProgress />\r\n            </Fade>\r\n                <TextField autoFocus key=\"category\" fullWidth id=\"category\" label=\"Category\" \r\n                    onChange={this.handleChange} value={this.state.category} required/>\r\n                <TextField key=\"survey\" fullWidth id=\"survey\" label=\"Survey\"  \r\n                    onChange={this.handleChange} value={this.state.survey} required\r\n                    onKeyDown={this.handleKeyDown} required />\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button className=\"bbutton\" onClick={this.handleCancel} > Cancel </Button>\r\n                <Button \r\n                    className=\"bbutton\" \r\n                    onClick={this.handleSubmit} \r\n                    style={{\r\n                        color:'white', \r\n                        backgroundColor:'rgb(74, 119, 229)',\r\n                        width:'auto'\r\n                    }}\r\n                > Done </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react'\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport { signIn } from '../store/Actions/SignInAction'\r\nimport {Redirect} from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { Auth } from 'aws-amplify';\r\nimport { Hub } from 'aws-amplify'\r\n\r\nfunction Login(props){\r\n    const [state, setState] = React.useState({\r\n        username : \"prasad@ideafactors.com\",\r\n        password : \"testing@123\",\r\n        newpassword: \"\",\r\n        loginError: \"\",\r\n        loading: false\r\n    })\r\n\r\n    const {getCurrentSession} = props;\r\n    React.useEffect(() => {\r\n        getCurrentSession();\r\n    });\r\n    \r\n    React.useEffect(() => {\r\n        Hub.listen('auth', (data) => {\r\n          const { payload } = data\r\n           if(payload.event === 'signIn_failure'){\r\n            setState({...state, username : \"\", password: \"\", newpassword: \"\",\r\n            loginError: \"Invalid Email Address & Password combination. \",\r\n            loading: false})\r\n           }\r\n        })\r\n      }, [props, state])\r\n    \r\n    function handleKeyDown(e){\r\n        if(e.keyCode === 13) {\r\n            handleLogin();\r\n        }\r\n    }\r\n\r\n    function handleKeyDownPwd(e){\r\n        if(e.keyCode === 13) {\r\n            changePassword();\r\n        }\r\n    }\r\n\r\n    function handleChange(e){\r\n        setState({\r\n            ...state,\r\n            [e.target.id] : e.target.value\r\n        })\r\n    }\r\n\r\n    function handleCancel(){\r\n        setState({...state, username : \"\", password: \"\", newpassword: \"\", loginError: \"\", loading: false})\r\n    }\r\n    \r\n    function changePassword(){\r\n        const loggedUser = Auth.completeNewPassword(props.user, state.newpassword);\r\n        console.log(loggedUser);\r\n    }\r\n    \r\n    function handleLogin(){\r\n        if(state.username.trim() === \"\" || state.password.trim() === \"\" ){\r\n            setState({...state, loginError:\"Email Address and Password cannot be blank\"});\r\n        }\r\n        else{\r\n            props.signIn(state);\r\n            setState({...state, loading: true, loginError:\"\"});\r\n        }\r\n    }\r\n\r\n    console.log(props.user);\r\n\r\n    if(typeof props.user.username !== 'undefined' && props.user.username !== null){\r\n        return (\r\n            <Redirect to='/preview' />\r\n        )\r\n    }\r\n\r\n    const newp = typeof props.challenge !== 'undefined' && \r\n                    props.challenge === \"NEW_PASSWORD_REQUIRED\" ;\r\n    \r\n    const label = newp ? 'Change Password' : 'Login';\r\n\r\n    return (\r\n        <div className=\"centered\">\r\n            <div>\r\n                <img src={props.logo} alt=\"Surveykshan\" height=\"100px\" />\r\n            </div>\r\n            <div>\r\n                Surveykshan\r\n            </div>\r\n            <div style={{color:'red', fontSize: 'small', padding: '10px'}}>{state.loginError}</div>\r\n            \r\n            <div style={{padding:'50px'}}>\r\n                {newp ? \r\n                    <TextField fullWidth id=\"newpassword\" label=\"New Password\" type=\"password\"                \r\n                    autoComplete=\"new-password\" onChange={handleChange} value={state.newpassword} required \r\n                    onKeyDown={handleKeyDownPwd}/>\r\n                : \r\n                    [<TextField autoFocus key=\"username\" fullWidth id=\"username\" label=\"Email Address\" type=\"email\" \r\n                        autoComplete=\"username\" onChange={handleChange} value={state.username} required/>,\r\n                    <TextField fullWidth key=\"password\" id=\"password\" label=\"Password\" type=\"password\"                \r\n                        autoComplete=\"current-password\" onChange={handleChange} value={state.password} \r\n                        onKeyDown={handleKeyDown} required />] \r\n                }\r\n                \r\n                <div style={{width: '100%'}}>\r\n                    <Fade in={state.loading} unmountOnExit style={{\r\n                        transitionDelay: state.loading ? '800ms' : '0ms',\r\n                    }}>\r\n                        <LinearProgress />\r\n                    </Fade>\r\n                </div>\r\n            </div>    \r\n\r\n          \r\n            \r\n            <div style={{paddingTop: '5px'}}>\r\n                <div style={{display: 'flex', flexDirection: 'row', }}>\r\n                        <Button variant=\"outlined\" onClick={handleCancel} color=\"primary\" style={{margin: '20px'}}> Cancel </Button>\r\n                        <Button \r\n                            variant=\"contained\" \r\n                            onClick={newp ? changePassword : handleLogin} \r\n                            color=\"primary\" \r\n                            style={{margin: '20px'}}\r\n                        > \r\n                            {label}\r\n                        </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n} \r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n            signIn: (state) => dispatch(signIn(state)),\r\n            getCurrentSession: () => dispatch(signIn())\r\n        }\r\n  }    \r\n  \r\n  const mapStateToProps = state => {\r\n    return {\r\n      user: state.signIn.user,\r\n      challenge: state.signIn.user.challengeName\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps,mapDispatchToProps)(Login);","import React from 'react'\r\nimport App from './App'\r\nimport View from './View'\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom'\r\nimport logo from './logo.png';\r\nimport YAML from \"yamljs\";\r\nimport Login from './Components/Login'\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {yaml:\"\", json:\"\", str: \"\", err: \"\", height: window.innerHeight, width: window.innerWidth };\r\n        this.handleResize = this.handleResize.bind(this);\r\n        this.processYAML = this.processYAML.bind(this);\r\n    }\r\n\r\n    processYAML(yaml) {\r\n        let json = \"\";\r\n        try{\r\n            json = YAML.parse(yaml);\r\n            //console.log(JSON.stringify(json));\r\n\r\n            this.setState(\r\n            {\r\n                yaml : yaml,\r\n                json : json,\r\n                str  : JSON.stringify(json, undefined, 4),\r\n                err  : \"\"\r\n            });\r\n        }\r\n        catch(error){\r\n            this.setState({ ...this.state, yaml : yaml, err:error})\r\n        }\r\n    }\r\n\r\n    processURL(url){\r\n        try{\r\n            fetch(url)\r\n            .then((r) => r.text())\r\n            .then(text  => {\r\n                this.processYAML(text);\r\n            })\r\n        }\r\n        catch(err){\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', this.handleResize);\r\n\r\n        try{\r\n            fetch(\"https://s3.ap-south-1.amazonaws.com/surveykshan.com/Templates/sample.yml\")\r\n            .then((r) => r.text())\r\n            .then(text  => {\r\n                //console.log(text);\r\n                //this.setState({ ...this.state, yaml: text});\r\n                this.processYAML(text);\r\n            })\r\n        }\r\n        catch(err){\r\n            console.log(err);\r\n        }\r\n      \r\n    }\r\n\r\n    \r\n  handleResize() {\r\n    console.log(\"Roload\")\r\n    this.setState( {...this.state, height: window.innerHeight, width: window.innerWidth });\r\n  };\r\n  \r\n  componentWillUnmount() {\r\n    console.log(\"Unmount \")\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n\r\n\r\n    render() {\r\n        return  (\r\n                <BrowserRouter>\r\n                <Switch>\r\n                    <Route exact path='/'>\r\n                        <Redirect to='/signin' />\r\n                    </Route>\r\n                    <Route exact path='/signin' render={\r\n                            (props) => <Login {...props} logo={logo} />\r\n                        } \r\n                    />\r\n                    <Route exact path='/preview' render={\r\n                        (props) => <View \r\n                                        {...props} \r\n                                        logo={logo}\r\n                                        height={this.state.height} \r\n                                        width={this.state.width} \r\n                                        processYAML={this.processYAML} \r\n                                        yaml={this.state.yaml}\r\n                                        json={this.state.json}\r\n                                        err={this.state.err}\r\n                                        editor={false}\r\n                                    />} \r\n                    />\r\n                    <Route path='/editor' render={\r\n                        (props) => <App \r\n                                    {...props} \r\n                                    logo={logo} \r\n                                    height={this.state.height} \r\n                                    width={this.state.width} \r\n                                    processYAML={this.processYAML} \r\n                                    processURL={this.processURL} \r\n                                    yaml={this.state.yaml}\r\n                                    json={this.state.json}\r\n                                    err={this.state.err}\r\n                                    editor={true}\r\n                                /> }\r\n                    />\r\n                </Switch>\r\n                </BrowserRouter>\r\n        )\r\n        }\r\n}\r\n\r\nexport default Home;","const initialState = {\r\n    loginError: null,\r\n    user : {}\r\n}\r\n\r\nconst SignInReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case 'AUTH_SUCCESS':\r\n            const newstate1 = {...state, loginError:'', user: action.data};\r\n            return newstate1;\r\n\r\n        case 'LOGIN_SUCCESS':\r\n            const newstate = {...state, loginError:'', user: action.data};\r\n            return newstate\r\n\r\n        case 'LOGIN_FAILED':\r\n            return {...state, loginError: 'Invalid Email Address & Password combination. '}\r\n\r\n        default:\r\n           return state  \r\n    }\r\n}\r\n\r\nexport default SignInReducer","const initialState = {}\r\n\r\nconst SignOutReducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case 'LOGOUT_SUCCESS':\r\n            return {...state, logoutError: '', user : {}};\r\n\r\n        case 'LOGOUT_FAILED':\r\n            console.log(\"Logout failed\")\r\n            return {...state, logoutError: 'Logout failed. Please try again. '}\r\n\r\n        default:\r\n           return state  \r\n    }\r\n}\r\n\r\nexport default SignOutReducer","import {combineReducers} from 'redux'\r\nimport SignInReducer from './SignInReducer'\r\nimport SignOutReducer from './SignOutReducer'\r\n\r\nconst AppReducer = combineReducers({\r\n    signIn: SignInReducer,\r\n    signOut: SignOutReducer,\r\n})\r\n\r\nconst RootReducer = (state, action) => {\r\n    if (action.type === 'LOGOUT_SUCCESS') {\r\n        state = undefined\r\n      }\r\n    return AppReducer(state, action)\r\n  }\r\n\r\nexport default RootReducer","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\n\nconst awsmobile = {\n    \"aws_project_region\": \"us-east-1\",\n    \"aws_cognito_identity_pool_id\": \"us-east-1:1006d6a6-988e-4147-9b6e-f91c30b1e8dc\",\n    \"aws_cognito_region\": \"us-east-1\",\n    \"aws_user_pools_id\": \"us-east-1_X9iVkLiJO\",\n    \"aws_user_pools_web_client_id\": \"vmkv14tivuv757u86hhde21de\",\n    \"oauth\": {},\n    \"aws_content_delivery_bucket\": \"surveykshan.com-dev\",\n    \"aws_content_delivery_bucket_region\": \"us-east-1\",\n    \"aws_content_delivery_url\": \"https://dny8vau49u78p.cloudfront.net\"\n};\n\n\nexport default awsmobile;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Home from './Home';\r\nimport { applyMiddleware, createStore } from 'redux';\r\nimport { Provider } from 'react-redux'\r\nimport RootReducer from './store/Reducers/RootReducer'\r\nimport * as serviceWorker from './serviceWorker';\r\nimport thunk from 'redux-thunk'\r\nimport \"@ionic/pwa-elements\";\r\nimport { defineCustomElements } from '@ionic/pwa-elements/loader'; // add this line\r\n\r\nimport Amplify from 'aws-amplify'\r\nimport config from './aws-exports'  \r\nAmplify.configure(config)\r\n\r\nconst store = createStore(RootReducer, applyMiddleware(thunk));\r\nReactDOM.render(<Provider store={store}><Home /></Provider>, document.getElementById('root'));\r\n\r\n//ReactDOM.render(<Home />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\ndefineCustomElements(window);\r\n\r\n"],"sourceRoot":""}